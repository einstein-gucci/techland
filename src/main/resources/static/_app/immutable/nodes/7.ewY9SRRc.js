import{s as Ge,n as ze,r as Je,c as He}from"../chunks/scheduler.BoBRsoSY.js";import{S as Ke,i as Qe,e as n,s as V,c as o,a as f,l as N,f as D,d,k as s,g as Ee,h as e,m as re,n as pe,p as We,u as Se,t as be,b as Ce,j as Oe,v as Ue}from"../chunks/index.mzkCDYCb.js";import{e as ne}from"../chunks/each.D6YF6ztN.js";import{j as Xe,a as ge}from"../chunks/store.D0fbB2Vf.js";import{p as Ze}from"../chunks/stores.CmxFwODC.js";function Me(i,l,a){const u=i.slice();return u[12]=l[a],u[14]=a,u}function Re(i,l,a){const u=i.slice();return u[3]=l[a],u}function Fe(i){let l,a,u=i[3].email+"",g,h,c,v=i[3].name+"",p,m;return{c(){l=n("tr"),a=n("td"),g=be(u),h=V(),c=n("td"),p=be(v),m=V()},l(I){l=o(I,"TR",{});var y=f(l);a=o(y,"TD",{});var A=f(a);g=Ce(A,u),A.forEach(d),h=D(y),c=o(y,"TD",{});var b=f(c);p=Ce(b,v),b.forEach(d),m=D(y),y.forEach(d)},m(I,y){Ee(I,l,y),e(l,a),e(a,g),e(l,h),e(l,c),e(c,p),e(l,m)},p(I,y){y&4&&u!==(u=I[3].email+"")&&Oe(g,u),y&4&&v!==(v=I[3].name+"")&&Oe(p,v)},d(I){I&&d(l)}}}function Ye(i){let l,a,u=i[14]+1+"",g,h;return{c(){l=n("li"),a=n("a"),g=be(u),h=V(),this.h()},l(c){l=o(c,"LI",{class:!0});var v=f(l);a=o(v,"A",{class:!0,href:!0});var p=f(a);g=Ce(p,u),p.forEach(d),h=D(v),v.forEach(d),this.h()},h(){s(a,"class","page-link svelte-ey6csl"),s(a,"href","/vermieter?page="+(i[14]+1)),Ue(a,"active",i[0]==i[14]+1),s(l,"class","page-item")},m(c,v){Ee(c,l,v),e(l,a),e(a,g),e(l,h)},p(c,v){v&1&&Ue(a,"active",c[0]==c[14]+1)},d(c){c&&d(l)}}}function $e(i){let l,a,u="üë®‚Äçüíº Vermieter",g,h,c,v,p,m,I="Neuer Vermieter",y,A,b,T,_,x="Email",B,P,oe,O,ye="Please provide an e-mail address.",ie,j,q,Ve="Name",ce,L,de,U,De="Please provide a name.",ue,w,Ie="Submit",ve,M,xe="üìã Alle Vermieter",fe,Y,G,J,z,H,K,ke='<tr><th scope="col">Email</th> <th scope="col">Name</th></tr>',he,Q,me,te,R,_e,Te,W=ne(i[2]),C=[];for(let r=0;r<W.length;r+=1)C[r]=Fe(Re(i,W,r));let X=ne(Array(i[1])),E=[];for(let r=0;r<X.length;r+=1)E[r]=Ye(Me(i,X,r));return{c(){l=n("div"),a=n("h1"),a.textContent=u,g=V(),h=n("div"),c=n("div"),v=n("div"),p=n("div"),m=n("div"),m.textContent=I,y=V(),A=n("div"),b=n("form"),T=n("div"),_=n("label"),_.textContent=x,B=V(),P=n("input"),oe=V(),O=n("div"),O.textContent=ye,ie=V(),j=n("div"),q=n("label"),q.textContent=Ve,ce=V(),L=n("input"),de=V(),U=n("div"),U.textContent=De,ue=V(),w=n("button"),w.textContent=Ie,ve=V(),M=n("h1"),M.textContent=xe,fe=V(),Y=n("div"),G=n("div"),J=n("div"),z=n("div"),H=n("table"),K=n("thead"),K.innerHTML=ke,he=V(),Q=n("tbody");for(let r=0;r<C.length;r+=1)C[r].c();me=V(),te=n("nav"),R=n("ul");for(let r=0;r<E.length;r+=1)E[r].c();this.h()},l(r){l=o(r,"DIV",{class:!0});var k=f(l);a=o(k,"H1",{class:!0,"data-svelte-h":!0}),N(a)!=="svelte-1gvsbli"&&(a.textContent=u),g=D(k),h=o(k,"DIV",{class:!0});var t=f(h);c=o(t,"DIV",{class:!0});var S=f(c);v=o(S,"DIV",{class:!0});var Ae=f(v);p=o(Ae,"DIV",{class:!0});var ae=f(p);m=o(ae,"DIV",{class:!0,"data-svelte-h":!0}),N(m)!=="svelte-ibyccd"&&(m.textContent=I),y=D(ae),A=o(ae,"DIV",{class:!0});var Pe=f(A);b=o(Pe,"FORM",{class:!0});var Z=f(b);T=o(Z,"DIV",{class:!0});var $=f(T);_=o($,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(_)!=="svelte-7zanfm"&&(_.textContent=x),B=D($),P=o($,"INPUT",{class:!0,id:!0,type:!0}),oe=D($),O=o($,"DIV",{class:!0,"data-svelte-h":!0}),N(O)!=="svelte-1t7tm55"&&(O.textContent=ye),$.forEach(d),ie=D(Z),j=o(Z,"DIV",{class:!0});var ee=f(j);q=o(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(q)!=="svelte-17mpp60"&&(q.textContent=Ve),ce=D(ee),L=o(ee,"INPUT",{class:!0,id:!0,type:!0}),de=D(ee),U=o(ee,"DIV",{class:!0,"data-svelte-h":!0}),N(U)!=="svelte-twafyh"&&(U.textContent=De),ee.forEach(d),ue=D(Z),w=o(Z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(w)!=="svelte-kscvqj"&&(w.textContent=Ie),Z.forEach(d),Pe.forEach(d),ae.forEach(d),Ae.forEach(d),S.forEach(d),ve=D(t),M=o(t,"H1",{class:!0,"data-svelte-h":!0}),N(M)!=="svelte-ip2p63"&&(M.textContent=xe),fe=D(t),Y=o(t,"DIV",{class:!0});var Le=f(Y);G=o(Le,"DIV",{class:!0});var je=f(G);J=o(je,"DIV",{class:!0});var Ne=f(J);z=o(Ne,"DIV",{class:!0});var le=f(z);H=o(le,"TABLE",{class:!0});var se=f(H);K=o(se,"THEAD",{"data-svelte-h":!0}),N(K)!=="svelte-1p3x9mi"&&(K.innerHTML=ke),he=D(se),Q=o(se,"TBODY",{});var Be=f(Q);for(let F=0;F<C.length;F+=1)C[F].l(Be);Be.forEach(d),se.forEach(d),me=D(le),te=o(le,"NAV",{});var qe=f(te);R=o(qe,"UL",{class:!0});var we=f(R);for(let F=0;F<E.length;F+=1)E[F].l(we);we.forEach(d),qe.forEach(d),le.forEach(d),Ne.forEach(d),je.forEach(d),Le.forEach(d),t.forEach(d),k.forEach(d),this.h()},h(){s(a,"class","svelte-ey6csl"),s(m,"class","card-header svelte-ey6csl"),s(_,"for","email"),s(_,"class","form-label"),s(P,"class","form-control"),s(P,"id","email"),s(P,"type","email"),P.required=!0,s(O,"class","invalid-feedback"),s(T,"class","mb-3"),s(q,"for","name"),s(q,"class","form-label"),s(L,"class","form-control"),s(L,"id","name"),s(L,"type","text"),L.required=!0,s(U,"class","invalid-feedback"),s(j,"class","mb-3"),s(w,"type","submit"),s(w,"class","btn btn-primary svelte-ey6csl"),s(b,"class","needs-validation"),b.noValidate=!0,s(A,"class","card-body"),s(p,"class","card svelte-ey6csl"),s(v,"class","col-md-8"),s(c,"class","row justify-content-center"),s(M,"class","svelte-ey6csl"),s(H,"class","table"),s(R,"class","pagination svelte-ey6csl"),s(z,"class","card-body"),s(J,"class","card svelte-ey6csl"),s(G,"class","col-md-8"),s(Y,"class","row justify-content-center"),s(h,"class","container"),s(l,"class","background svelte-ey6csl")},m(r,k){Ee(r,l,k),e(l,a),e(l,g),e(l,h),e(h,c),e(c,v),e(v,p),e(p,m),e(p,y),e(p,A),e(A,b),e(b,T),e(T,_),e(T,B),e(T,P),re(P,i[3].email),e(T,oe),e(T,O),e(b,ie),e(b,j),e(j,q),e(j,ce),e(j,L),re(L,i[3].name),e(j,de),e(j,U),e(b,ue),e(b,w),e(h,ve),e(h,M),e(h,fe),e(h,Y),e(Y,G),e(G,J),e(J,z),e(z,H),e(H,K),e(H,he),e(H,Q);for(let t=0;t<C.length;t+=1)C[t]&&C[t].m(Q,null);e(z,me),e(z,te),e(te,R);for(let t=0;t<E.length;t+=1)E[t]&&E[t].m(R,null);_e||(Te=[pe(P,"input",i[7]),pe(L,"input",i[8]),pe(b,"submit",We(i[4]))],_e=!0)},p(r,[k]){if(k&8&&P.value!==r[3].email&&re(P,r[3].email),k&8&&L.value!==r[3].name&&re(L,r[3].name),k&4){W=ne(r[2]);let t;for(t=0;t<W.length;t+=1){const S=Re(r,W,t);C[t]?C[t].p(S,k):(C[t]=Fe(S),C[t].c(),C[t].m(Q,null))}for(;t<C.length;t+=1)C[t].d(1);C.length=W.length}if(k&3){X=ne(Array(r[1]));let t;for(t=0;t<X.length;t+=1){const S=Me(r,X,t);E[t]?E[t].p(S,k):(E[t]=Ye(S),E[t].c(),E[t].m(R,null))}for(;t<E.length;t+=1)E[t].d(1);E.length=X.length}},i:ze,o:ze,d(r){r&&d(l),Se(C,r),Se(E,r),_e=!1,Je(Te)}}}let et=4;function tt(i,l,a){let u,g;He(i,Xe,_=>a(5,u=_)),He(i,Ze,_=>a(6,g=_));const h=g.url.origin;let c,v=0,p=[],m={email:null,name:null};function I(){let _=`?pageSize=${et}&pageNumber=${c}`;var x={method:"get",url:`${h}/api/vermieter${_}`,headers:{Authorization:`Bearer ${u}`}};ge(x).then(function(B){a(2,p=B.data.content),a(1,v=B.data.totalPages)}).catch(function(B){alert("Could not get vermieters"),console.log(B)})}function y(){var _={method:"get",url:"https://disify.com/api/email/"+m.email};ge(_).then(function(x){console.log("Validated email "+m.email),console.log(x.data),x.data.format&&!x.data.disposable&&x.data.dns?A():alert("Email "+m.email+" is not valid.")}).catch(function(x){alert("Could not validate email"),console.log(x)})}function A(){var _={method:"post",url:`${h}/api/vermieter`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},data:m};ge(_).then(function(x){alert("Vermieter created"),I()}).catch(function(x){alert("Could not create vermieter"),console.log(x)})}function b(){m.email=this.value,a(3,m)}function T(){m.name=this.value,a(3,m)}return i.$$.update=()=>{if(i.$$.dirty&96&&u!==""){let _=g.url.searchParams;_.has("page")?a(0,c=_.get("page")):a(0,c="1"),I()}},[c,v,p,m,y,u,g,b,T]}class ot extends Ke{constructor(l){super(),Qe(this,l,tt,$e,Ge,{})}}export{ot as component};
