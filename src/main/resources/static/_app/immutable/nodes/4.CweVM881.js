import{s as Pe,n as De,c as pe,o as Be,e as He,r as Re}from"../chunks/scheduler.B2kig3xY.js";import{S as Ue,i as Se,s as D,e as l,f as x,c as n,l as N,a as y,d as p,m as c,g as Q,h as e,q as ke,n as B,r as xe,o as oe,u as Me,t as X,b as $,j as ee,v as Ve}from"../chunks/index.BO5oJ2o1.js";import{e as ye}from"../chunks/each.D6YF6ztN.js";import{a as ge}from"../chunks/axios.B4uVmeYG.js";import{p as je}from"../chunks/stores.BmFoMKNJ.js";import{j as qe,u as we}from"../chunks/store.cPuX3XdM.js";function Ae(u,s,_){const f=u.slice();return f[2]=s[_],f}function Ne(u){let s,_="Create Device",f,m,I,d,C,b="Name",M,h,v,O,i,t,a="Description",o,E,q,P,H,U,F="Type",w,T,R,L="COMPUTER",r,te="MOBIL",S,le="AUDIOVIDEO",k,ne="HAUSHALT",V,fe="KÜCHENGERÄT",G,he="BÜRO",K,me="WERKZEUG",z,Ce="SMARTHOME",ce,Y,J,Te="Mietpreis",ve,j,de,W,be="Submit",_e,Ee;return{c(){s=l("h1"),s.textContent=_,f=D(),m=l("form"),I=l("div"),d=l("div"),C=l("label"),C.textContent=b,M=D(),h=l("input"),v=D(),O=l("div"),i=l("div"),t=l("label"),t.textContent=a,o=D(),E=l("input"),q=D(),P=l("div"),H=l("div"),U=l("label"),U.textContent=F,w=D(),T=l("select"),R=l("option"),R.textContent=L,r=l("option"),r.textContent=te,S=l("option"),S.textContent=le,k=l("option"),k.textContent=ne,V=l("option"),V.textContent=fe,G=l("option"),G.textContent=he,K=l("option"),K.textContent=me,z=l("option"),z.textContent=Ce,ce=D(),Y=l("div"),J=l("label"),J.textContent=Te,ve=D(),j=l("input"),de=D(),W=l("button"),W.textContent=be,this.h()},l(g){s=n(g,"H1",{class:!0,"data-svelte-h":!0}),N(s)!=="svelte-y69oy2"&&(s.textContent=_),f=x(g),m=n(g,"FORM",{class:!0});var A=y(m);I=n(A,"DIV",{class:!0});var Oe=y(I);d=n(Oe,"DIV",{class:!0});var se=y(d);C=n(se,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(C)!=="svelte-15kbfjq"&&(C.textContent=b),M=x(se),h=n(se,"INPUT",{class:!0,id:!0,type:!0}),se.forEach(p),Oe.forEach(p),v=x(A),O=n(A,"DIV",{class:!0});var Ie=y(O);i=n(Ie,"DIV",{class:!0});var ae=y(i);t=n(ae,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(t)!=="svelte-17hm1qu"&&(t.textContent=a),o=x(ae),E=n(ae,"INPUT",{class:!0,id:!0,type:!0}),ae.forEach(p),Ie.forEach(p),q=x(A),P=n(A,"DIV",{class:!0});var ie=y(P);H=n(ie,"DIV",{class:!0});var re=y(H);U=n(re,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(U)!=="svelte-1dxyp2i"&&(U.textContent=F),w=x(re),T=n(re,"SELECT",{class:!0,id:!0});var Z=y(T);R=n(Z,"OPTION",{"data-svelte-h":!0}),N(R)!=="svelte-t51rny"&&(R.textContent=L),r=n(Z,"OPTION",{"data-svelte-h":!0}),N(r)!=="svelte-1b0ue8o"&&(r.textContent=te),S=n(Z,"OPTION",{"data-svelte-h":!0}),N(S)!=="svelte-pxvlee"&&(S.textContent=le),k=n(Z,"OPTION",{"data-svelte-h":!0}),N(k)!=="svelte-1tft5vy"&&(k.textContent=ne),V=n(Z,"OPTION",{"data-svelte-h":!0}),N(V)!=="svelte-xv2j6c"&&(V.textContent=fe),G=n(Z,"OPTION",{"data-svelte-h":!0}),N(G)!=="svelte-3e5oi2"&&(G.textContent=he),K=n(Z,"OPTION",{"data-svelte-h":!0}),N(K)!=="svelte-14raz66"&&(K.textContent=me),z=n(Z,"OPTION",{"data-svelte-h":!0}),N(z)!=="svelte-h955fy"&&(z.textContent=Ce),Z.forEach(p),re.forEach(p),ce=x(ie),Y=n(ie,"DIV",{class:!0});var ue=y(Y);J=n(ue,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),N(J)!=="svelte-1s3g1s2"&&(J.textContent=Te),ve=x(ue),j=n(ue,"INPUT",{class:!0,id:!0,type:!0}),ue.forEach(p),ie.forEach(p),de=x(A),W=n(A,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),N(W)!=="svelte-v3vov"&&(W.textContent=be),A.forEach(p),this.h()},h(){c(s,"class","mt-3"),c(C,"class","form-label"),c(C,"for","name"),c(h,"class","form-control"),c(h,"id","name"),c(h,"type","text"),c(d,"class","col"),c(I,"class","row mb-3"),c(t,"class","form-label"),c(t,"for","description"),c(E,"class","form-control"),c(E,"id","description"),c(E,"type","text"),c(i,"class","col"),c(O,"class","row mb-3"),c(U,"class","form-label"),c(U,"for","type"),R.__value="COMPUTER",B(R,R.__value),r.__value="MOBIL",B(r,r.__value),S.__value="AUDIOVIDEO",B(S,S.__value),k.__value="HAUSHALT",B(k,k.__value),V.__value="KÜCHENGERÄT",B(V,V.__value),G.__value="BÜRO",B(G,G.__value),K.__value="WERKZEUG",B(K,K.__value),z.__value="SMARTHOME",B(z,z.__value),c(T,"class","form-select"),c(T,"id","type"),u[2].deviceType===void 0&&He(()=>u[6].call(T)),c(H,"class","col"),c(J,"class","form-label"),c(J,"for","mietpreis"),c(j,"class","form-control"),c(j,"id","mietpreis"),c(j,"type","number"),c(Y,"class","col"),c(P,"class","row mb-3"),c(W,"type","button"),c(W,"class","btn btn-primary"),c(m,"class","mb-5")},m(g,A){Q(g,s,A),Q(g,f,A),Q(g,m,A),e(m,I),e(I,d),e(d,C),e(d,M),e(d,h),B(h,u[2].name),e(m,v),e(m,O),e(O,i),e(i,t),e(i,o),e(i,E),B(E,u[2].description),e(m,q),e(m,P),e(P,H),e(H,U),e(H,w),e(H,T),e(T,R),e(T,r),e(T,S),e(T,k),e(T,V),e(T,G),e(T,K),e(T,z),xe(T,u[2].deviceType,!0),e(P,ce),e(P,Y),e(Y,J),e(Y,ve),e(Y,j),B(j,u[2].mietpreis),e(m,de),e(m,W),_e||(Ee=[oe(h,"input",u[4]),oe(E,"input",u[5]),oe(T,"change",u[6]),oe(j,"input",u[7]),oe(W,"click",u[3])],_e=!0)},p(g,A){A&4&&h.value!==g[2].name&&B(h,g[2].name),A&4&&E.value!==g[2].description&&B(E,g[2].description),A&4&&xe(T,g[2].deviceType),A&4&&Me(j.value)!==g[2].mietpreis&&B(j,g[2].mietpreis)},d(g){g&&(p(s),p(f),p(m)),_e=!1,Re(Ee)}}}function Le(u){let s,_,f=u[2].name+"",m,I,d,C=u[2].description+"",b,M,h,v=u[2].deviceType+"",O,i,t,a=u[2].mietpreis+"",o,E,q,P=u[2].deviceState+"",H,U,F,w=u[2].vermieterId+"",T,R;return{c(){s=l("tr"),_=l("td"),m=X(f),I=D(),d=l("td"),b=X(C),M=D(),h=l("td"),O=X(v),i=D(),t=l("td"),o=X(a),E=D(),q=l("td"),H=X(P),U=D(),F=l("td"),T=X(w),R=D()},l(L){s=n(L,"TR",{});var r=y(s);_=n(r,"TD",{});var te=y(_);m=$(te,f),te.forEach(p),I=x(r),d=n(r,"TD",{});var S=y(d);b=$(S,C),S.forEach(p),M=x(r),h=n(r,"TD",{});var le=y(h);O=$(le,v),le.forEach(p),i=x(r),t=n(r,"TD",{});var k=y(t);o=$(k,a),k.forEach(p),E=x(r),q=n(r,"TD",{});var ne=y(q);H=$(ne,P),ne.forEach(p),U=x(r),F=n(r,"TD",{});var V=y(F);T=$(V,w),V.forEach(p),R=x(r),r.forEach(p)},m(L,r){Q(L,s,r),e(s,_),e(_,m),e(s,I),e(s,d),e(d,b),e(s,M),e(s,h),e(h,O),e(s,i),e(s,t),e(t,o),e(s,E),e(s,q),e(q,H),e(s,U),e(s,F),e(F,T),e(s,R)},p(L,r){r&1&&f!==(f=L[2].name+"")&&ee(m,f),r&1&&C!==(C=L[2].description+"")&&ee(b,C),r&1&&v!==(v=L[2].deviceType+"")&&ee(O,v),r&1&&a!==(a=L[2].mietpreis+"")&&ee(o,a),r&1&&P!==(P=L[2].deviceState+"")&&ee(H,P),r&1&&w!==(w=L[2].vermieterId+"")&&ee(T,w)},d(L){L&&p(s)}}}function Ge(u){let s=u[1].user_roles&&u[1].user_roles.includes("admin"),_,f,m="All Devices",I,d,C,b='<tr><th scope="col">Name</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Mietpreis</th> <th scope="col">State</th> <th scope="col">VermieterId</th></tr>',M,h,v=s&&Ne(u),O=ye(u[0]),i=[];for(let t=0;t<O.length;t+=1)i[t]=Le(Ae(u,O,t));return{c(){v&&v.c(),_=D(),f=l("h1"),f.textContent=m,I=D(),d=l("table"),C=l("thead"),C.innerHTML=b,M=D(),h=l("tbody");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){v&&v.l(t),_=x(t),f=n(t,"H1",{"data-svelte-h":!0}),N(f)!=="svelte-1rvac7q"&&(f.textContent=m),I=x(t),d=n(t,"TABLE",{class:!0});var a=y(d);C=n(a,"THEAD",{"data-svelte-h":!0}),N(C)!=="svelte-qv3nav"&&(C.innerHTML=b),M=x(a),h=n(a,"TBODY",{});var o=y(h);for(let E=0;E<i.length;E+=1)i[E].l(o);o.forEach(p),a.forEach(p),this.h()},h(){c(d,"class","table")},m(t,a){v&&v.m(t,a),Q(t,_,a),Q(t,f,a),Q(t,I,a),Q(t,d,a),e(d,C),e(d,M),e(d,h);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(h,null)},p(t,[a]){if(a&2&&(s=t[1].user_roles&&t[1].user_roles.includes("admin")),s?v?v.p(t,a):(v=Ne(t),v.c(),v.m(_.parentNode,_)):v&&(v.d(1),v=null),a&1){O=ye(t[0]);let o;for(o=0;o<O.length;o+=1){const E=Ae(t,O,o);i[o]?i[o].p(E,a):(i[o]=Le(E),i[o].c(),i[o].m(h,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=O.length}},i:De,o:De,d(t){t&&(p(_),p(f),p(I),p(d)),v&&v.d(t),ke(i,t)}}}function Ke(u,s,_){let f,m,I;pe(u,qe,a=>_(8,f=a)),pe(u,je,a=>_(9,m=a)),pe(u,we,a=>_(1,I=a));const d=m.url.origin;let C=[],b={name:null,description:null,deviceType:null,mietpreis:null};Be(()=>{M()});function M(){var a={method:"get",url:d+"/api/device",headers:{Authorization:"Bearer "+f}};ge(a).then(function(o){_(0,C=o.data)}).catch(function(o){alert("Could not get devices"),console.log(o)})}function h(){var a={method:"post",url:d+"/api/device",headers:{"Content-Type":"application/json",Authorization:"Bearer "+f},data:b};ge(a).then(function(o){alert("Device created"),M()}).catch(function(o){alert("Could not create device"),console.log(o)})}function v(){b.name=this.value,_(2,b)}function O(){b.description=this.value,_(2,b)}function i(){b.deviceType=Ve(this),_(2,b)}function t(){b.mietpreis=Me(this.value),_(2,b)}return[C,I,b,h,v,O,i,t]}class Qe extends Ue{constructor(s){super(),Se(this,s,Ke,Ge,Pe,{})}}export{Qe as component};
