import{s as Ge,n as qe,r as Je,c as He}from"../chunks/scheduler.BoBRsoSY.js";import{S as Ke,i as Qe,e as n,s as D,c as i,a as m,l as w,f as j,d as v,k as r,g as Ve,h as e,m as ie,n as de,p as We,u as Oe,t as Ce,b as Ee,j as Se,v as Ue}from"../chunks/index.mzkCDYCb.js";import{e as oe}from"../chunks/each.D6YF6ztN.js";import{j as Xe,a as ce}from"../chunks/store.D0fbB2Vf.js";import{p as Ze}from"../chunks/stores.B7n_KrAX.js";function Me(c,a,s){const h=c.slice();return h[14]=a[s],h[16]=s,h}function Re(c,a,s){const h=c.slice();return h[3]=a[s],h}function Fe(c){let a,s,h=c[3].email+"",C,p,u,f=c[3].name+"",g,_,A,I,P="L√∂schen",b,y,x;function Y(){return c[10](c[3])}return{c(){a=n("tr"),s=n("td"),C=Ce(h),p=D(),u=n("td"),g=Ce(f),_=D(),A=n("td"),I=n("button"),I.textContent=P,b=D(),this.h()},l(d){a=i(d,"TR",{});var l=m(a);s=i(l,"TD",{});var k=m(s);C=Ee(k,h),k.forEach(v),p=j(l),u=i(l,"TD",{});var B=m(u);g=Ee(B,f),B.forEach(v),_=j(l),A=i(l,"TD",{});var le=m(A);I=i(le,"BUTTON",{class:!0,"data-svelte-h":!0}),w(I)!=="svelte-igbwds"&&(I.textContent=P),le.forEach(v),b=j(l),l.forEach(v),this.h()},h(){r(I,"class","btn btn-danger btn-sm svelte-ps7cij")},m(d,l){Ve(d,a,l),e(a,s),e(s,C),e(a,p),e(a,u),e(u,g),e(a,_),e(a,A),e(A,I),e(a,b),y||(x=de(I,"click",Y),y=!0)},p(d,l){c=d,l&4&&h!==(h=c[3].email+"")&&Se(C,h),l&4&&f!==(f=c[3].name+"")&&Se(g,f)},d(d){d&&v(a),y=!1,x()}}}function Ye(c){let a,s,h=c[16]+1+"",C,p;return{c(){a=n("li"),s=n("a"),C=Ce(h),p=D(),this.h()},l(u){a=i(u,"LI",{class:!0});var f=m(a);s=i(f,"A",{class:!0,href:!0});var g=m(s);C=Ee(g,h),g.forEach(v),p=j(f),f.forEach(v),this.h()},h(){r(s,"class","page-link svelte-ps7cij"),r(s,"href","/vermieter?page="+(c[16]+1)),Ue(s,"active",c[0]==c[16]+1),r(a,"class","page-item")},m(u,f){Ve(u,a,f),e(a,s),e(s,C),e(a,p)},p(u,f){f&1&&Ue(s,"active",u[0]==u[16]+1)},d(u){u&&v(a)}}}function $e(c){let a,s,h="üë®‚Äçüíº Vermieter",C,p,u,f,g,_,A="Neuer Vermieter",I,P,b,y,x,Y="Email",d,l,k,B,le="Please provide an e-mail address.",ue,N,z,ye="Name",ve,L,he,U,De="Please provide a name.",fe,q,je="Submit",me,M,Ie="üìã Alle Vermieter",pe,G,J,K,H,O,Q,ke='<tr><th scope="col">Email</th> <th scope="col">Name</th> <th scope="col">Actions</th></tr>',_e,W,ge,ae,R,be,xe,X=oe(c[2]),E=[];for(let o=0;o<X.length;o+=1)E[o]=Fe(Re(c,X,o));let Z=oe(Array(c[1])),V=[];for(let o=0;o<Z.length;o+=1)V[o]=Ye(Me(c,Z,o));return{c(){a=n("div"),s=n("h1"),s.textContent=h,C=D(),p=n("div"),u=n("div"),f=n("div"),g=n("div"),_=n("div"),_.textContent=A,I=D(),P=n("div"),b=n("form"),y=n("div"),x=n("label"),x.textContent=Y,d=D(),l=n("input"),k=D(),B=n("div"),B.textContent=le,ue=D(),N=n("div"),z=n("label"),z.textContent=ye,ve=D(),L=n("input"),he=D(),U=n("div"),U.textContent=De,fe=D(),q=n("button"),q.textContent=je,me=D(),M=n("h1"),M.textContent=Ie,pe=D(),G=n("div"),J=n("div"),K=n("div"),H=n("div"),O=n("table"),Q=n("thead"),Q.innerHTML=ke,_e=D(),W=n("tbody");for(let o=0;o<E.length;o+=1)E[o].c();ge=D(),ae=n("nav"),R=n("ul");for(let o=0;o<V.length;o+=1)V[o].c();this.h()},l(o){a=i(o,"DIV",{class:!0});var T=m(a);s=i(T,"H1",{class:!0,"data-svelte-h":!0}),w(s)!=="svelte-1gvsbli"&&(s.textContent=h),C=j(T),p=i(T,"DIV",{class:!0});var t=m(p);u=i(t,"DIV",{class:!0});var S=m(u);f=i(S,"DIV",{class:!0});var Te=m(f);g=i(Te,"DIV",{class:!0});var se=m(g);_=i(se,"DIV",{class:!0,"data-svelte-h":!0}),w(_)!=="svelte-ibyccd"&&(_.textContent=A),I=j(se),P=i(se,"DIV",{class:!0});var Ae=m(P);b=i(Ae,"FORM",{class:!0});var $=m(b);y=i($,"DIV",{class:!0});var ee=m(y);x=i(ee,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(x)!=="svelte-7zanfm"&&(x.textContent=Y),d=j(ee),l=i(ee,"INPUT",{class:!0,id:!0,type:!0}),k=j(ee),B=i(ee,"DIV",{class:!0,"data-svelte-h":!0}),w(B)!=="svelte-1t7tm55"&&(B.textContent=le),ee.forEach(v),ue=j($),N=i($,"DIV",{class:!0});var te=m(N);z=i(te,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),w(z)!=="svelte-17mpp60"&&(z.textContent=ye),ve=j(te),L=i(te,"INPUT",{class:!0,id:!0,type:!0}),he=j(te),U=i(te,"DIV",{class:!0,"data-svelte-h":!0}),w(U)!=="svelte-twafyh"&&(U.textContent=De),te.forEach(v),fe=j($),q=i($,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),w(q)!=="svelte-kscvqj"&&(q.textContent=je),$.forEach(v),Ae.forEach(v),se.forEach(v),Te.forEach(v),S.forEach(v),me=j(t),M=i(t,"H1",{class:!0,"data-svelte-h":!0}),w(M)!=="svelte-ip2p63"&&(M.textContent=Ie),pe=j(t),G=i(t,"DIV",{class:!0});var Pe=m(G);J=i(Pe,"DIV",{class:!0});var Le=m(J);K=i(Le,"DIV",{class:!0});var Be=m(K);H=i(Be,"DIV",{class:!0});var re=m(H);O=i(re,"TABLE",{class:!0});var ne=m(O);Q=i(ne,"THEAD",{"data-svelte-h":!0}),w(Q)!=="svelte-u7dgbx"&&(Q.innerHTML=ke),_e=j(ne),W=i(ne,"TBODY",{});var Ne=m(W);for(let F=0;F<E.length;F+=1)E[F].l(Ne);Ne.forEach(v),ne.forEach(v),ge=j(re),ae=i(re,"NAV",{});var we=m(ae);R=i(we,"UL",{class:!0});var ze=m(R);for(let F=0;F<V.length;F+=1)V[F].l(ze);ze.forEach(v),we.forEach(v),re.forEach(v),Be.forEach(v),Le.forEach(v),Pe.forEach(v),t.forEach(v),T.forEach(v),this.h()},h(){r(s,"class","svelte-ps7cij"),r(_,"class","card-header svelte-ps7cij"),r(x,"for","email"),r(x,"class","form-label"),r(l,"class","form-control"),r(l,"id","email"),r(l,"type","email"),l.required=!0,r(B,"class","invalid-feedback"),r(y,"class","mb-3"),r(z,"for","name"),r(z,"class","form-label"),r(L,"class","form-control"),r(L,"id","name"),r(L,"type","text"),L.required=!0,r(U,"class","invalid-feedback"),r(N,"class","mb-3"),r(q,"type","submit"),r(q,"class","btn btn-primary svelte-ps7cij"),r(b,"class","needs-validation"),b.noValidate=!0,r(P,"class","card-body"),r(g,"class","card svelte-ps7cij"),r(f,"class","col-md-8"),r(u,"class","row justify-content-center"),r(M,"class","svelte-ps7cij"),r(O,"class","table"),r(R,"class","pagination svelte-ps7cij"),r(H,"class","card-body"),r(K,"class","card svelte-ps7cij"),r(J,"class","col-md-8"),r(G,"class","row justify-content-center"),r(p,"class","container"),r(a,"class","background svelte-ps7cij")},m(o,T){Ve(o,a,T),e(a,s),e(a,C),e(a,p),e(p,u),e(u,f),e(f,g),e(g,_),e(g,I),e(g,P),e(P,b),e(b,y),e(y,x),e(y,d),e(y,l),ie(l,c[3].email),e(y,k),e(y,B),e(b,ue),e(b,N),e(N,z),e(N,ve),e(N,L),ie(L,c[3].name),e(N,he),e(N,U),e(b,fe),e(b,q),e(p,me),e(p,M),e(p,pe),e(p,G),e(G,J),e(J,K),e(K,H),e(H,O),e(O,Q),e(O,_e),e(O,W);for(let t=0;t<E.length;t+=1)E[t]&&E[t].m(W,null);e(H,ge),e(H,ae),e(ae,R);for(let t=0;t<V.length;t+=1)V[t]&&V[t].m(R,null);be||(xe=[de(l,"input",c[8]),de(L,"input",c[9]),de(b,"submit",We(c[4]))],be=!0)},p(o,[T]){if(T&8&&l.value!==o[3].email&&ie(l,o[3].email),T&8&&L.value!==o[3].name&&ie(L,o[3].name),T&36){X=oe(o[2]);let t;for(t=0;t<X.length;t+=1){const S=Re(o,X,t);E[t]?E[t].p(S,T):(E[t]=Fe(S),E[t].c(),E[t].m(W,null))}for(;t<E.length;t+=1)E[t].d(1);E.length=X.length}if(T&3){Z=oe(Array(o[1]));let t;for(t=0;t<Z.length;t+=1){const S=Me(o,Z,t);V[t]?V[t].p(S,T):(V[t]=Ye(S),V[t].c(),V[t].m(R,null))}for(;t<V.length;t+=1)V[t].d(1);V.length=Z.length}},i:qe,o:qe,d(o){o&&v(a),Oe(E,o),Oe(V,o),be=!1,Je(xe)}}}let et=4;function tt(c,a,s){let h,C;He(c,Xe,d=>s(6,h=d)),He(c,Ze,d=>s(7,C=d));const p=C.url.origin;let u,f=0,g=[],_={email:null,name:null};function A(){let d=`?pageSize=${et}&pageNumber=${u}`;var l={method:"get",url:`${p}/api/vermieter${d}`,headers:{Authorization:`Bearer ${h}`}};ce(l).then(function(k){s(2,g=k.data.content),s(1,f=k.data.totalPages)}).catch(function(k){alert("Could not get vermieters"),console.log(k)})}function I(){var d={method:"get",url:"https://disify.com/api/email/"+_.email};ce(d).then(function(l){console.log("Validated email "+_.email),console.log(l.data),l.data.format&&!l.data.disposable&&l.data.dns?P():alert("Email "+_.email+" is not valid.")}).catch(function(l){alert("Could not validate email"),console.log(l)})}function P(){var d={method:"post",url:`${p}/api/vermieter`,headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},data:_};ce(d).then(function(l){alert("Vermieter created"),A()}).catch(function(l){alert("Could not create vermieter"),console.log(l)})}function b(d){var l={method:"delete",url:`${p}/api/vermieter/${d}`,headers:{Authorization:`Bearer ${h}`}};ce(l).then(function(k){alert("Vermieter deleted"),A()}).catch(function(k){alert("Could not delete vermieter"),console.log(k)})}function y(){_.email=this.value,s(3,_)}function x(){_.name=this.value,s(3,_)}const Y=d=>b(d.id);return c.$$.update=()=>{if(c.$$.dirty&192&&h!==""){let d=C.url.searchParams;d.has("page")?s(0,u=d.get("page")):s(0,u="1"),A()}},[u,f,g,_,I,b,h,C,y,x,Y]}class it extends Ke{constructor(a){super(),Qe(this,a,tt,$e,Ge,{})}}export{it as component};
