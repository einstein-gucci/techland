import{s as We,e as Se,n as de,r as Ze,c as Ve}from"../chunks/scheduler.B2kig3xY.js";import{S as Ye,i as Je,e as l,s as O,c as n,l as p,f as x,a as E,d as r,m as a,n as y,g as k,h as t,q as ee,o as nt,r as ne,u as je,t as Nt,b as Pt,j as Bt,v as we,w as qe}from"../chunks/index.DR8NClmD.js";import{e as le}from"../chunks/each.D6YF6ztN.js";import{j as Qe,a as fe}from"../chunks/store.BdGEaHuh.js";import{p as Xe}from"../chunks/stores.Cx3MW4Qm.js";function Ge(s,e,i){const c=s.slice();return c[22]=e[i],c[24]=i,c}function Ke(s,e,i){const c=s.slice();return c[5]=e[i],c}function $e(s){let e,i="Mieten",c,f;function m(){return s[18](s[5])}return{c(){e=l("button"),e.textContent=i,this.h()},l(v){e=n(v,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(e)!=="svelte-l5m6vn"&&(e.textContent=i),this.h()},h(){a(e,"type","button"),a(e,"class","btn btn-primary btn-sm")},m(v,h){k(v,e,h),c||(f=nt(e,"click",m),c=!0)},p(v,h){s=v},d(v){v&&r(e),c=!1,f()}}}function tl(s){let e,i="Retourniert";return{c(){e=l("button"),e.textContent=i,this.h()},l(c){e=n(c,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(e)!=="svelte-1uo7t1f"&&(e.textContent=i),this.h()},h(){a(e,"type","button"),a(e,"class","btn btn-primary btn-sm"),e.disabled=!0},m(c,f){k(c,e,f)},p:de,d(c){c&&r(e)}}}function el(s){let e,i,c="Vermietet",f,m,v="Retournieren",h,R;function g(){return s[17](s[5])}return{c(){e=l("div"),i=l("button"),i.textContent=c,f=O(),m=l("button"),m.textContent=v,this.h()},l(C){e=n(C,"DIV",{});var I=E(e);i=n(I,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(i)!=="svelte-1kipj1n"&&(i.textContent=c),f=x(I),m=n(I,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(m)!=="svelte-1jnr8cx"&&(m.textContent=v),I.forEach(r),this.h()},h(){a(i,"type","button"),a(i,"class","btn btn-primary btn-sm"),i.disabled=!0,a(m,"type","button"),a(m,"class","btn btn-primary btn-sm")},m(C,I){k(C,e,I),t(e,i),t(e,f),t(e,m),h||(R=nt(m,"click",g),h=!0)},p(C,I){s=C},d(C){C&&r(e),h=!1,R()}}}function ze(s){let e,i,c=s[5].name+"",f,m,v,h=s[5].description+"",R,g,C,I=s[5].deviceType+"",B,w,P,J=s[5].mietpreis+"",Q,H,Z,S=s[5].deviceState+"",j,q,X,Y=s[5].vermieterId+"",u,D,L,G;function Ht(b,T){if(b[5].deviceState==="Vermietet")return el;if(b[5].deviceState==="Retourniert")return tl;if(b[5].deviceState==="Verfügbar")return $e}let V=Ht(s),A=V&&V(s);return{c(){e=l("tr"),i=l("td"),f=Nt(c),m=O(),v=l("td"),R=Nt(h),g=O(),C=l("td"),B=Nt(I),w=O(),P=l("td"),Q=Nt(J),H=O(),Z=l("td"),j=Nt(S),q=O(),X=l("td"),u=Nt(Y),D=O(),L=l("td"),A&&A.c(),G=O()},l(b){e=n(b,"TR",{});var T=E(e);i=n(T,"TD",{});var K=E(i);f=Pt(K,c),K.forEach(r),m=x(T),v=n(T,"TD",{});var St=E(v);R=Pt(St,h),St.forEach(r),g=x(T),C=n(T,"TD",{});var z=E(C);B=Pt(z,I),z.forEach(r),w=x(T),P=n(T,"TD",{});var Vt=E(P);Q=Pt(Vt,J),Vt.forEach(r),H=x(T),Z=n(T,"TD",{});var F=E(Z);j=Pt(F,S),F.forEach(r),q=x(T),X=n(T,"TD",{});var jt=E(X);u=Pt(jt,Y),jt.forEach(r),D=x(T),L=n(T,"TD",{});var W=E(L);A&&A.l(W),W.forEach(r),G=x(T),T.forEach(r)},m(b,T){k(b,e,T),t(e,i),t(i,f),t(e,m),t(e,v),t(v,R),t(e,g),t(e,C),t(C,B),t(e,w),t(e,P),t(P,Q),t(e,H),t(e,Z),t(Z,j),t(e,q),t(e,X),t(X,u),t(e,D),t(e,L),A&&A.m(L,null),t(e,G)},p(b,T){T&4&&c!==(c=b[5].name+"")&&Bt(f,c),T&4&&h!==(h=b[5].description+"")&&Bt(R,h),T&4&&I!==(I=b[5].deviceType+"")&&Bt(B,I),T&4&&J!==(J=b[5].mietpreis+"")&&Bt(Q,J),T&4&&S!==(S=b[5].deviceState+"")&&Bt(j,S),T&4&&Y!==(Y=b[5].vermieterId+"")&&Bt(u,Y),V===(V=Ht(b))&&A?A.p(b,T):(A&&A.d(1),A=V&&V(b),A&&(A.c(),A.m(L,null)))},d(b){b&&r(e),A&&A.d()}}}function Fe(s){let e,i,c=s[24]+1+"",f,m;return{c(){e=l("li"),i=l("a"),f=Nt(c),m=O(),this.h()},l(v){e=n(v,"LI",{class:!0});var h=E(e);i=n(h,"A",{class:!0,href:!0});var R=E(i);f=Pt(R,c),R.forEach(r),m=x(h),h.forEach(r),this.h()},h(){a(i,"class","page-link"),a(i,"href","/devices?page="+(s[24]+1)),we(i,"active",s[0]==s[24]+1),a(e,"class","page-item")},m(v,h){k(v,e,h),t(e,i),t(i,f),t(e,m)},p(v,h){h&1&&we(i,"active",v[0]==v[24]+1)},d(v){v&&r(e)}}}function ll(s){let e,i="Create Device",c,f,m,v,h,R="Name",g,C,I,B,w,P,J="Description",Q,H,Z,S,j,q,X="Type",Y,u,D,L="COMPUTER",G,Ht="MOBIL",V,A="AUDIOVIDEO",b,T="HAUSHALT",K,St="KÜCHENGERÄT",z,Vt="BÜRO",F,jt="WERKZEUG",W,pe="SMARTHOME",oe,Ct,bt,he="Mietpreis",ae,$,se,ot,me="Submit",wt,Tt,Ce="Filter Devices",qt,at,Et,Ot,xt,be="Min Mietpreis",ie,tt,re,yt,It,Te="Device Type",ue,N,st,Ee="All",it,Oe="COMPUTER",rt,xe="MOBIL",ut,ye="AUDIOVIDEO",ct,Ie="HAUSHALT",vt,ge="KÜCHENGERÄT",_t,De="BÜRO",ft,Ae="WERKZEUG",dt,Ne="SMARTHOME",ce,pt,Pe="Apply Filter",Gt,gt,ke="All Devices",Kt,ht,kt,Le='<tr><th scope="col">Name</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Mietpreis</th> <th scope="col">State</th> <th scope="col">VermieterId</th> <th scope="col">Actions</th></tr>',ve,Lt,zt,Ut,Dt,_e,Ue,Mt=le(s[2]),U=[];for(let o=0;o<Mt.length;o+=1)U[o]=ze(Ke(s,Mt,o));let Rt=le(Array(s[1])),M=[];for(let o=0;o<Rt.length;o+=1)M[o]=Fe(Ge(s,Rt,o));return{c(){e=l("h1"),e.textContent=i,c=O(),f=l("form"),m=l("div"),v=l("div"),h=l("label"),h.textContent=R,g=O(),C=l("input"),I=O(),B=l("div"),w=l("div"),P=l("label"),P.textContent=J,Q=O(),H=l("input"),Z=O(),S=l("div"),j=l("div"),q=l("label"),q.textContent=X,Y=O(),u=l("select"),D=l("option"),D.textContent=L,G=l("option"),G.textContent=Ht,V=l("option"),V.textContent=A,b=l("option"),b.textContent=T,K=l("option"),K.textContent=St,z=l("option"),z.textContent=Vt,F=l("option"),F.textContent=jt,W=l("option"),W.textContent=pe,oe=O(),Ct=l("div"),bt=l("label"),bt.textContent=he,ae=O(),$=l("input"),se=O(),ot=l("button"),ot.textContent=me,wt=O(),Tt=l("h1"),Tt.textContent=Ce,qt=O(),at=l("form"),Et=l("div"),Ot=l("div"),xt=l("label"),xt.textContent=be,ie=O(),tt=l("input"),re=O(),yt=l("div"),It=l("label"),It.textContent=Te,ue=O(),N=l("select"),st=l("option"),st.textContent=Ee,it=l("option"),it.textContent=Oe,rt=l("option"),rt.textContent=xe,ut=l("option"),ut.textContent=ye,ct=l("option"),ct.textContent=Ie,vt=l("option"),vt.textContent=ge,_t=l("option"),_t.textContent=De,ft=l("option"),ft.textContent=Ae,dt=l("option"),dt.textContent=Ne,ce=O(),pt=l("button"),pt.textContent=Pe,Gt=O(),gt=l("h1"),gt.textContent=ke,Kt=O(),ht=l("table"),kt=l("thead"),kt.innerHTML=Le,ve=O(),Lt=l("tbody");for(let o=0;o<U.length;o+=1)U[o].c();zt=O(),Ut=l("nav"),Dt=l("ul");for(let o=0;o<M.length;o+=1)M[o].c();this.h()},l(o){e=n(o,"H1",{class:!0,"data-svelte-h":!0}),p(e)!=="svelte-y69oy2"&&(e.textContent=i),c=x(o),f=n(o,"FORM",{class:!0});var d=E(f);m=n(d,"DIV",{class:!0});var _=E(m);v=n(_,"DIV",{class:!0});var et=E(v);h=n(et,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(h)!=="svelte-15kbfjq"&&(h.textContent=R),g=x(et),C=n(et,"INPUT",{class:!0,id:!0,type:!0}),et.forEach(r),_.forEach(r),I=x(d),B=n(d,"DIV",{class:!0});var Me=E(B);w=n(Me,"DIV",{class:!0});var Ft=E(w);P=n(Ft,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(P)!=="svelte-17hm1qu"&&(P.textContent=J),Q=x(Ft),H=n(Ft,"INPUT",{class:!0,id:!0,type:!0}),Ft.forEach(r),Me.forEach(r),Z=x(d),S=n(d,"DIV",{class:!0});var Wt=E(S);j=n(Wt,"DIV",{class:!0});var Zt=E(j);q=n(Zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(q)!=="svelte-1dxyp2i"&&(q.textContent=X),Y=x(Zt),u=n(Zt,"SELECT",{class:!0,id:!0});var mt=E(u);D=n(mt,"OPTION",{"data-svelte-h":!0}),p(D)!=="svelte-t51rny"&&(D.textContent=L),G=n(mt,"OPTION",{"data-svelte-h":!0}),p(G)!=="svelte-1b0ue8o"&&(G.textContent=Ht),V=n(mt,"OPTION",{"data-svelte-h":!0}),p(V)!=="svelte-pxvlee"&&(V.textContent=A),b=n(mt,"OPTION",{"data-svelte-h":!0}),p(b)!=="svelte-1tft5vy"&&(b.textContent=T),K=n(mt,"OPTION",{"data-svelte-h":!0}),p(K)!=="svelte-xv2j6c"&&(K.textContent=St),z=n(mt,"OPTION",{"data-svelte-h":!0}),p(z)!=="svelte-3e5oi2"&&(z.textContent=Vt),F=n(mt,"OPTION",{"data-svelte-h":!0}),p(F)!=="svelte-14raz66"&&(F.textContent=jt),W=n(mt,"OPTION",{"data-svelte-h":!0}),p(W)!=="svelte-h955fy"&&(W.textContent=pe),mt.forEach(r),Zt.forEach(r),oe=x(Wt),Ct=n(Wt,"DIV",{class:!0});var Yt=E(Ct);bt=n(Yt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(bt)!=="svelte-1s3g1s2"&&(bt.textContent=he),ae=x(Yt),$=n(Yt,"INPUT",{class:!0,id:!0,type:!0}),Yt.forEach(r),Wt.forEach(r),se=x(d),ot=n(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(ot)!=="svelte-v3vov"&&(ot.textContent=me),d.forEach(r),wt=x(o),Tt=n(o,"H1",{class:!0,"data-svelte-h":!0}),p(Tt)!=="svelte-12pmb11"&&(Tt.textContent=Ce),qt=x(o),at=n(o,"FORM",{class:!0});var Jt=E(at);Et=n(Jt,"DIV",{class:!0});var Qt=E(Et);Ot=n(Qt,"DIV",{class:!0});var Xt=E(Ot);xt=n(Xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(xt)!=="svelte-1iik6gq"&&(xt.textContent=be),ie=x(Xt),tt=n(Xt,"INPUT",{class:!0,id:!0,type:!0}),Xt.forEach(r),re=x(Qt),yt=n(Qt,"DIV",{class:!0});var $t=E(yt);It=n($t,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(It)!=="svelte-163d0kw"&&(It.textContent=Te),ue=x($t),N=n($t,"SELECT",{class:!0,id:!0});var lt=E(N);st=n(lt,"OPTION",{"data-svelte-h":!0}),p(st)!=="svelte-ewmsv0"&&(st.textContent=Ee),it=n(lt,"OPTION",{"data-svelte-h":!0}),p(it)!=="svelte-t51rny"&&(it.textContent=Oe),rt=n(lt,"OPTION",{"data-svelte-h":!0}),p(rt)!=="svelte-1b0ue8o"&&(rt.textContent=xe),ut=n(lt,"OPTION",{"data-svelte-h":!0}),p(ut)!=="svelte-pxvlee"&&(ut.textContent=ye),ct=n(lt,"OPTION",{"data-svelte-h":!0}),p(ct)!=="svelte-1tft5vy"&&(ct.textContent=Ie),vt=n(lt,"OPTION",{"data-svelte-h":!0}),p(vt)!=="svelte-xv2j6c"&&(vt.textContent=ge),_t=n(lt,"OPTION",{"data-svelte-h":!0}),p(_t)!=="svelte-3e5oi2"&&(_t.textContent=De),ft=n(lt,"OPTION",{"data-svelte-h":!0}),p(ft)!=="svelte-14raz66"&&(ft.textContent=Ae),dt=n(lt,"OPTION",{"data-svelte-h":!0}),p(dt)!=="svelte-h955fy"&&(dt.textContent=Ne),lt.forEach(r),$t.forEach(r),Qt.forEach(r),ce=x(Jt),pt=n(Jt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(pt)!=="svelte-1shm5w3"&&(pt.textContent=Pe),Jt.forEach(r),Gt=x(o),gt=n(o,"H1",{"data-svelte-h":!0}),p(gt)!=="svelte-1rvac7q"&&(gt.textContent=ke),Kt=x(o),ht=n(o,"TABLE",{class:!0});var te=E(ht);kt=n(te,"THEAD",{"data-svelte-h":!0}),p(kt)!=="svelte-7qfsoa"&&(kt.innerHTML=Le),ve=x(te),Lt=n(te,"TBODY",{});var Re=E(Lt);for(let At=0;At<U.length;At+=1)U[At].l(Re);Re.forEach(r),te.forEach(r),zt=x(o),Ut=n(o,"NAV",{});var Be=E(Ut);Dt=n(Be,"UL",{class:!0});var He=E(Dt);for(let At=0;At<M.length;At+=1)M[At].l(He);He.forEach(r),Be.forEach(r),this.h()},h(){a(e,"class","mt-3"),a(h,"class","form-label"),a(h,"for","name"),a(C,"class","form-control"),a(C,"id","name"),a(C,"type","text"),a(v,"class","col"),a(m,"class","row mb-3"),a(P,"class","form-label"),a(P,"for","description"),a(H,"class","form-control"),a(H,"id","description"),a(H,"type","text"),a(w,"class","col"),a(B,"class","row mb-3"),a(q,"class","form-label"),a(q,"for","type"),D.__value="COMPUTER",y(D,D.__value),G.__value="MOBIL",y(G,G.__value),V.__value="AUDIOVIDEO",y(V,V.__value),b.__value="HAUSHALT",y(b,b.__value),K.__value="KÜCHENGERÄT",y(K,K.__value),z.__value="BÜRO",y(z,z.__value),F.__value="WERKZEUG",y(F,F.__value),W.__value="SMARTHOME",y(W,W.__value),a(u,"class","form-select"),a(u,"id","type"),s[5].deviceType===void 0&&Se(()=>s[13].call(u)),a(j,"class","col"),a(bt,"class","form-label"),a(bt,"for","mietpreis"),a($,"class","form-control"),a($,"id","mietpreis"),a($,"type","number"),a(Ct,"class","col"),a(S,"class","row mb-3"),a(ot,"type","button"),a(ot,"class","btn btn-primary"),a(f,"class","mb-5"),a(Tt,"class","mt-3"),a(xt,"class","form-label"),a(xt,"for","mietpreis"),a(tt,"class","form-control"),a(tt,"id","mietpreis"),a(tt,"type","number"),a(Ot,"class","col"),a(It,"class","form-label"),a(It,"for","type"),st.__value="All",y(st,st.__value),it.__value="COMPUTER",y(it,it.__value),rt.__value="MOBIL",y(rt,rt.__value),ut.__value="AUDIOVIDEO",y(ut,ut.__value),ct.__value="HAUSHALT",y(ct,ct.__value),vt.__value="KÜCHENGERÄT",y(vt,vt.__value),_t.__value="BÜRO",y(_t,_t.__value),ft.__value="WERKZEUG",y(ft,ft.__value),dt.__value="SMARTHOME",y(dt,dt.__value),a(N,"class","form-select"),a(N,"id","type"),s[4]===void 0&&Se(()=>s[16].call(N)),a(yt,"class","col"),a(Et,"class","row mb-3"),a(pt,"type","button"),a(pt,"class","btn btn-primary"),a(at,"class","mb-5"),a(ht,"class","table align-middle"),a(Dt,"class","pagination")},m(o,d){k(o,e,d),k(o,c,d),k(o,f,d),t(f,m),t(m,v),t(v,h),t(v,g),t(v,C),y(C,s[5].name),t(f,I),t(f,B),t(B,w),t(w,P),t(w,Q),t(w,H),y(H,s[5].description),t(f,Z),t(f,S),t(S,j),t(j,q),t(j,Y),t(j,u),t(u,D),t(u,G),t(u,V),t(u,b),t(u,K),t(u,z),t(u,F),t(u,W),ee(u,s[5].deviceType,!0),t(S,oe),t(S,Ct),t(Ct,bt),t(Ct,ae),t(Ct,$),y($,s[5].mietpreis),t(f,se),t(f,ot),k(o,wt,d),k(o,Tt,d),k(o,qt,d),k(o,at,d),t(at,Et),t(Et,Ot),t(Ot,xt),t(Ot,ie),t(Ot,tt),y(tt,s[3]),t(Et,re),t(Et,yt),t(yt,It),t(yt,ue),t(yt,N),t(N,st),t(N,it),t(N,rt),t(N,ut),t(N,ct),t(N,vt),t(N,_t),t(N,ft),t(N,dt),ee(N,s[4],!0),t(at,ce),t(at,pt),k(o,Gt,d),k(o,gt,d),k(o,Kt,d),k(o,ht,d),t(ht,kt),t(ht,ve),t(ht,Lt);for(let _=0;_<U.length;_+=1)U[_]&&U[_].m(Lt,null);k(o,zt,d),k(o,Ut,d),t(Ut,Dt);for(let _=0;_<M.length;_+=1)M[_]&&M[_].m(Dt,null);_e||(Ue=[nt(C,"input",s[11]),nt(H,"input",s[12]),nt(u,"change",s[13]),nt($,"input",s[14]),nt(ot,"click",s[6]),nt(tt,"input",s[15]),nt(N,"change",s[16]),nt(pt,"click",s[8])],_e=!0)},p(o,[d]){if(d&32&&C.value!==o[5].name&&y(C,o[5].name),d&32&&H.value!==o[5].description&&y(H,o[5].description),d&32&&ee(u,o[5].deviceType),d&32&&ne($.value)!==o[5].mietpreis&&y($,o[5].mietpreis),d&8&&ne(tt.value)!==o[3]&&y(tt,o[3]),d&16&&ee(N,o[4]),d&132){Mt=le(o[2]);let _;for(_=0;_<Mt.length;_+=1){const et=Ke(o,Mt,_);U[_]?U[_].p(et,d):(U[_]=ze(et),U[_].c(),U[_].m(Lt,null))}for(;_<U.length;_+=1)U[_].d(1);U.length=Mt.length}if(d&3){Rt=le(Array(o[1]));let _;for(_=0;_<Rt.length;_+=1){const et=Ge(o,Rt,_);M[_]?M[_].p(et,d):(M[_]=Fe(et),M[_].c(),M[_].m(Dt,null))}for(;_<M.length;_+=1)M[_].d(1);M.length=Rt.length}},i:de,o:de,d(o){o&&(r(e),r(c),r(f),r(wt),r(Tt),r(qt),r(at),r(Gt),r(gt),r(Kt),r(ht),r(zt),r(Ut)),je(U,o),je(M,o),_e=!1,Ze(Ue)}}}let nl=4;function ol(s,e,i){let c,f;Ve(s,Qe,u=>i(9,c=u)),Ve(s,Xe,u=>i(10,f=u));const m=f.url.origin;let v,h=0,R=[],g={name:null,description:null,deviceType:null,mietpreis:null},C,I;function B(){let u="?pageSize="+nl+"&pageNumber="+v;C&&(u+="&min="+C),I&&I!=="All"&&(u+="&type="+I);var D={method:"get",url:m+"/api/device"+u,headers:{Authorization:"Bearer "+c}};fe(D).then(function(L){i(2,R=L.data.content),i(1,h=L.data.totalPages)}).catch(function(L){alert("Could not get devices"),console.log(L)})}function w(){var u={method:"post",url:m+"/api/device",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},data:g};fe(u).then(function(D){alert("Device created"),B()}).catch(function(D){alert("Could not create device"),console.log(D)})}function P(u){var D={method:"put",url:`${m}/api/service/me/completeDevice?deviceId=${u}`,headers:{Authorization:`Bearer ${c}`}};fe(D).then(function(L){B()}).catch(function(L){alert("Could not complete device"),console.log(L)})}function J(){B()}function Q(){g.name=this.value,i(5,g)}function H(){g.description=this.value,i(5,g)}function Z(){g.deviceType=qe(this),i(5,g)}function S(){g.mietpreis=ne(this.value),i(5,g)}function j(){C=ne(this.value),i(3,C)}function q(){I=qe(this),i(4,I)}const X=u=>P(u.id),Y=u=>P(u.id);return s.$$.update=()=>{if(s.$$.dirty&1536&&c!==""){let u=f.url.searchParams;u.has("page")?i(0,v=u.get("page")):i(0,v="1"),B()}},[v,h,R,C,I,g,w,P,J,c,f,Q,H,Z,S,j,q,X,Y]}class cl extends Ye{constructor(e){super(),Je(this,e,ol,ll,We,{})}}export{cl as component};
