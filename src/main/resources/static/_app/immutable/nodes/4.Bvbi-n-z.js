import{s as We,e as Se,n as de,r as Ze,c as Ve}from"../chunks/scheduler.B2kig3xY.js";import{S as Ye,i as Je,e as n,s as T,c as o,l as p,f as E,a as b,d as i,m as a,n as x,g as L,h as t,q as ee,o as nt,r as oe,u as we,t as Nt,b as Pt,j as Rt,v as ze,w as je}from"../chunks/index.DR8NClmD.js";import{e as le}from"../chunks/each.D6YF6ztN.js";import{a as ne}from"../chunks/axios.B4uVmeYG.js";import{p as Qe}from"../chunks/stores.Dsw2N-rF.js";import{j as Xe}from"../chunks/store.cPuX3XdM.js";function qe(s,e,r){const c=s.slice();return c[22]=e[r],c[24]=r,c}function Ge(s,e,r){const c=s.slice();return c[5]=e[r],c}function $e(s){let e,r="Mieten",c,_;function y(){return s[19](s[5])}return{c(){e=n("button"),e.textContent=r,this.h()},l(u){e=o(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(e)!=="svelte-zcnp2a"&&(e.textContent=r),this.h()},h(){a(e,"type","button"),a(e,"class","btn btn-primary btn-sm")},m(u,h){L(u,e,h),c||(_=nt(e,"click",y),c=!0)},p(u,h){s=u},d(u){u&&i(e),c=!1,_()}}}function tl(s){let e,r="Complete Device",c,_;function y(){return s[18](s[5])}return{c(){e=n("button"),e.textContent=r,this.h()},l(u){e=o(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(e)!=="svelte-alyu2g"&&(e.textContent=r),this.h()},h(){a(e,"type","button"),a(e,"class","btn btn-primary btn-sm")},m(u,h){L(u,e,h),c||(_=nt(e,"click",y),c=!0)},p(u,h){s=u},d(u){u&&i(e),c=!1,_()}}}function el(s){let e,r="Vermietet";return{c(){e=n("span"),e.textContent=r,this.h()},l(c){e=o(c,"SPAN",{class:!0,"data-svelte-h":!0}),p(e)!=="svelte-o3s9xp"&&(e.textContent=r),this.h()},h(){a(e,"class","badge bg-secondary")},m(c,_){L(c,e,_)},p:de,d(c){c&&i(e)}}}function Ke(s){let e,r,c=s[5].name+"",_,y,u,h=s[5].description+"",q,N,I,R=s[5].deviceType+"",M,z,k,Z=s[5].mietpreis+"",Q,H,Y,S=s[5].deviceState+"",w,j,X,J=s[5].vermieterId+"",O,f,P,g;function Ht(m,C){if(m[5].deviceState==="Vermietet")return el;if(m[5].deviceState==="Retourniert")return tl;if(m[5].deviceState==="Verfügbar")return $e}let V=Ht(s),D=V&&V(s);return{c(){e=n("tr"),r=n("td"),_=Nt(c),y=T(),u=n("td"),q=Nt(h),N=T(),I=n("td"),M=Nt(R),z=T(),k=n("td"),Q=Nt(Z),H=T(),Y=n("td"),w=Nt(S),j=T(),X=n("td"),O=Nt(J),f=T(),P=n("td"),D&&D.c(),g=T()},l(m){e=o(m,"TR",{});var C=b(e);r=o(C,"TD",{});var G=b(r);_=Pt(G,c),G.forEach(i),y=E(C),u=o(C,"TD",{});var St=b(u);q=Pt(St,h),St.forEach(i),N=E(C),I=o(C,"TD",{});var K=b(I);M=Pt(K,R),K.forEach(i),z=E(C),k=o(C,"TD",{});var Vt=b(k);Q=Pt(Vt,Z),Vt.forEach(i),H=E(C),Y=o(C,"TD",{});var F=b(Y);w=Pt(F,S),F.forEach(i),j=E(C),X=o(C,"TD",{});var wt=b(X);O=Pt(wt,J),wt.forEach(i),f=E(C),P=o(C,"TD",{});var W=b(P);D&&D.l(W),W.forEach(i),g=E(C),C.forEach(i)},m(m,C){L(m,e,C),t(e,r),t(r,_),t(e,y),t(e,u),t(u,q),t(e,N),t(e,I),t(I,M),t(e,z),t(e,k),t(k,Q),t(e,H),t(e,Y),t(Y,w),t(e,j),t(e,X),t(X,O),t(e,f),t(e,P),D&&D.m(P,null),t(e,g)},p(m,C){C&4&&c!==(c=m[5].name+"")&&Rt(_,c),C&4&&h!==(h=m[5].description+"")&&Rt(q,h),C&4&&R!==(R=m[5].deviceType+"")&&Rt(M,R),C&4&&Z!==(Z=m[5].mietpreis+"")&&Rt(Q,Z),C&4&&S!==(S=m[5].deviceState+"")&&Rt(w,S),C&4&&J!==(J=m[5].vermieterId+"")&&Rt(O,J),V===(V=Ht(m))&&D?D.p(m,C):(D&&D.d(1),D=V&&V(m),D&&(D.c(),D.m(P,null)))},d(m){m&&i(e),D&&D.d()}}}function Fe(s){let e,r,c=s[24]+1+"",_,y;return{c(){e=n("li"),r=n("a"),_=Nt(c),y=T(),this.h()},l(u){e=o(u,"LI",{class:!0});var h=b(e);r=o(h,"A",{class:!0,href:!0});var q=b(r);_=Pt(q,c),q.forEach(i),y=E(h),h.forEach(i),this.h()},h(){a(r,"class","page-link"),a(r,"href","/devices?page="+(s[24]+1)),ze(r,"active",s[0]==s[24]+1),a(e,"class","page-item")},m(u,h){L(u,e,h),t(e,r),t(r,_),t(e,y)},p(u,h){h&1&&ze(r,"active",u[0]==u[24]+1)},d(u){u&&i(e)}}}function ll(s){let e,r="Create Device",c,_,y,u,h,q="Name",N,I,R,M,z,k,Z="Description",Q,H,Y,S,w,j,X="Type",J,O,f,P="COMPUTER",g,Ht="MOBIL",V,D="AUDIOVIDEO",m,C="HAUSHALT",G,St="KÜCHENGERÄT",K,Vt="BÜRO",F,wt="WERKZEUG",W,pe="SMARTHOME",ae,Ct,bt,he="Mietpreis",se,$,ie,ot,me="Submit",zt,Tt,Ce="Filter Devices",jt,at,Et,Ot,xt,be="Min Mietpreis",re,tt,ue,gt,yt,Te="Device Type",ce,A,st,Ee="All",it,Oe="COMPUTER",rt,xe="MOBIL",ut,ge="AUDIOVIDEO",ct,ye="HAUSHALT",vt,Ie="KÜCHENGERÄT",_t,De="BÜRO",ft,Ae="WERKZEUG",dt,Ne="SMARTHOME",ve,pt,Pe="Apply Filter",qt,It,Le="All Devices",Gt,ht,Lt,Me='<tr><th scope="col">Name</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Mietpreis</th> <th scope="col">State</th> <th scope="col">VermieterId</th> <th scope="col">Actions</th></tr>',_e,Mt,Kt,kt,Dt,fe,ke,Ut=le(s[2]),U=[];for(let l=0;l<Ut.length;l+=1)U[l]=Ke(Ge(s,Ut,l));let Bt=le(Array(s[1])),B=[];for(let l=0;l<Bt.length;l+=1)B[l]=Fe(qe(s,Bt,l));return{c(){e=n("h1"),e.textContent=r,c=T(),_=n("form"),y=n("div"),u=n("div"),h=n("label"),h.textContent=q,N=T(),I=n("input"),R=T(),M=n("div"),z=n("div"),k=n("label"),k.textContent=Z,Q=T(),H=n("input"),Y=T(),S=n("div"),w=n("div"),j=n("label"),j.textContent=X,J=T(),O=n("select"),f=n("option"),f.textContent=P,g=n("option"),g.textContent=Ht,V=n("option"),V.textContent=D,m=n("option"),m.textContent=C,G=n("option"),G.textContent=St,K=n("option"),K.textContent=Vt,F=n("option"),F.textContent=wt,W=n("option"),W.textContent=pe,ae=T(),Ct=n("div"),bt=n("label"),bt.textContent=he,se=T(),$=n("input"),ie=T(),ot=n("button"),ot.textContent=me,zt=T(),Tt=n("h1"),Tt.textContent=Ce,jt=T(),at=n("form"),Et=n("div"),Ot=n("div"),xt=n("label"),xt.textContent=be,re=T(),tt=n("input"),ue=T(),gt=n("div"),yt=n("label"),yt.textContent=Te,ce=T(),A=n("select"),st=n("option"),st.textContent=Ee,it=n("option"),it.textContent=Oe,rt=n("option"),rt.textContent=xe,ut=n("option"),ut.textContent=ge,ct=n("option"),ct.textContent=ye,vt=n("option"),vt.textContent=Ie,_t=n("option"),_t.textContent=De,ft=n("option"),ft.textContent=Ae,dt=n("option"),dt.textContent=Ne,ve=T(),pt=n("button"),pt.textContent=Pe,qt=T(),It=n("h1"),It.textContent=Le,Gt=T(),ht=n("table"),Lt=n("thead"),Lt.innerHTML=Me,_e=T(),Mt=n("tbody");for(let l=0;l<U.length;l+=1)U[l].c();Kt=T(),kt=n("nav"),Dt=n("ul");for(let l=0;l<B.length;l+=1)B[l].c();this.h()},l(l){e=o(l,"H1",{class:!0,"data-svelte-h":!0}),p(e)!=="svelte-y69oy2"&&(e.textContent=r),c=E(l),_=o(l,"FORM",{class:!0});var d=b(_);y=o(d,"DIV",{class:!0});var v=b(y);u=o(v,"DIV",{class:!0});var et=b(u);h=o(et,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(h)!=="svelte-15kbfjq"&&(h.textContent=q),N=E(et),I=o(et,"INPUT",{class:!0,id:!0,type:!0}),et.forEach(i),v.forEach(i),R=E(d),M=o(d,"DIV",{class:!0});var Ue=b(M);z=o(Ue,"DIV",{class:!0});var Ft=b(z);k=o(Ft,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(k)!=="svelte-17hm1qu"&&(k.textContent=Z),Q=E(Ft),H=o(Ft,"INPUT",{class:!0,id:!0,type:!0}),Ft.forEach(i),Ue.forEach(i),Y=E(d),S=o(d,"DIV",{class:!0});var Wt=b(S);w=o(Wt,"DIV",{class:!0});var Zt=b(w);j=o(Zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(j)!=="svelte-1dxyp2i"&&(j.textContent=X),J=E(Zt),O=o(Zt,"SELECT",{class:!0,id:!0});var mt=b(O);f=o(mt,"OPTION",{"data-svelte-h":!0}),p(f)!=="svelte-t51rny"&&(f.textContent=P),g=o(mt,"OPTION",{"data-svelte-h":!0}),p(g)!=="svelte-1b0ue8o"&&(g.textContent=Ht),V=o(mt,"OPTION",{"data-svelte-h":!0}),p(V)!=="svelte-pxvlee"&&(V.textContent=D),m=o(mt,"OPTION",{"data-svelte-h":!0}),p(m)!=="svelte-1tft5vy"&&(m.textContent=C),G=o(mt,"OPTION",{"data-svelte-h":!0}),p(G)!=="svelte-xv2j6c"&&(G.textContent=St),K=o(mt,"OPTION",{"data-svelte-h":!0}),p(K)!=="svelte-3e5oi2"&&(K.textContent=Vt),F=o(mt,"OPTION",{"data-svelte-h":!0}),p(F)!=="svelte-14raz66"&&(F.textContent=wt),W=o(mt,"OPTION",{"data-svelte-h":!0}),p(W)!=="svelte-h955fy"&&(W.textContent=pe),mt.forEach(i),Zt.forEach(i),ae=E(Wt),Ct=o(Wt,"DIV",{class:!0});var Yt=b(Ct);bt=o(Yt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(bt)!=="svelte-1s3g1s2"&&(bt.textContent=he),se=E(Yt),$=o(Yt,"INPUT",{class:!0,id:!0,type:!0}),Yt.forEach(i),Wt.forEach(i),ie=E(d),ot=o(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(ot)!=="svelte-v3vov"&&(ot.textContent=me),d.forEach(i),zt=E(l),Tt=o(l,"H1",{class:!0,"data-svelte-h":!0}),p(Tt)!=="svelte-12pmb11"&&(Tt.textContent=Ce),jt=E(l),at=o(l,"FORM",{class:!0});var Jt=b(at);Et=o(Jt,"DIV",{class:!0});var Qt=b(Et);Ot=o(Qt,"DIV",{class:!0});var Xt=b(Ot);xt=o(Xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(xt)!=="svelte-1iik6gq"&&(xt.textContent=be),re=E(Xt),tt=o(Xt,"INPUT",{class:!0,id:!0,type:!0}),Xt.forEach(i),ue=E(Qt),gt=o(Qt,"DIV",{class:!0});var $t=b(gt);yt=o($t,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),p(yt)!=="svelte-163d0kw"&&(yt.textContent=Te),ce=E($t),A=o($t,"SELECT",{class:!0,id:!0});var lt=b(A);st=o(lt,"OPTION",{"data-svelte-h":!0}),p(st)!=="svelte-ewmsv0"&&(st.textContent=Ee),it=o(lt,"OPTION",{"data-svelte-h":!0}),p(it)!=="svelte-t51rny"&&(it.textContent=Oe),rt=o(lt,"OPTION",{"data-svelte-h":!0}),p(rt)!=="svelte-1b0ue8o"&&(rt.textContent=xe),ut=o(lt,"OPTION",{"data-svelte-h":!0}),p(ut)!=="svelte-pxvlee"&&(ut.textContent=ge),ct=o(lt,"OPTION",{"data-svelte-h":!0}),p(ct)!=="svelte-1tft5vy"&&(ct.textContent=ye),vt=o(lt,"OPTION",{"data-svelte-h":!0}),p(vt)!=="svelte-xv2j6c"&&(vt.textContent=Ie),_t=o(lt,"OPTION",{"data-svelte-h":!0}),p(_t)!=="svelte-3e5oi2"&&(_t.textContent=De),ft=o(lt,"OPTION",{"data-svelte-h":!0}),p(ft)!=="svelte-14raz66"&&(ft.textContent=Ae),dt=o(lt,"OPTION",{"data-svelte-h":!0}),p(dt)!=="svelte-h955fy"&&(dt.textContent=Ne),lt.forEach(i),$t.forEach(i),Qt.forEach(i),ve=E(Jt),pt=o(Jt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),p(pt)!=="svelte-1shm5w3"&&(pt.textContent=Pe),Jt.forEach(i),qt=E(l),It=o(l,"H1",{"data-svelte-h":!0}),p(It)!=="svelte-1rvac7q"&&(It.textContent=Le),Gt=E(l),ht=o(l,"TABLE",{class:!0});var te=b(ht);Lt=o(te,"THEAD",{"data-svelte-h":!0}),p(Lt)!=="svelte-7qfsoa"&&(Lt.innerHTML=Me),_e=E(te),Mt=o(te,"TBODY",{});var Be=b(Mt);for(let At=0;At<U.length;At+=1)U[At].l(Be);Be.forEach(i),te.forEach(i),Kt=E(l),kt=o(l,"NAV",{});var Re=b(kt);Dt=o(Re,"UL",{class:!0});var He=b(Dt);for(let At=0;At<B.length;At+=1)B[At].l(He);He.forEach(i),Re.forEach(i),this.h()},h(){a(e,"class","mt-3"),a(h,"class","form-label"),a(h,"for","name"),a(I,"class","form-control"),a(I,"id","name"),a(I,"type","text"),a(u,"class","col"),a(y,"class","row mb-3"),a(k,"class","form-label"),a(k,"for","description"),a(H,"class","form-control"),a(H,"id","description"),a(H,"type","text"),a(z,"class","col"),a(M,"class","row mb-3"),a(j,"class","form-label"),a(j,"for","type"),f.__value="COMPUTER",x(f,f.__value),g.__value="MOBIL",x(g,g.__value),V.__value="AUDIOVIDEO",x(V,V.__value),m.__value="HAUSHALT",x(m,m.__value),G.__value="KÜCHENGERÄT",x(G,G.__value),K.__value="BÜRO",x(K,K.__value),F.__value="WERKZEUG",x(F,F.__value),W.__value="SMARTHOME",x(W,W.__value),a(O,"class","form-select"),a(O,"id","type"),s[5].deviceType===void 0&&Se(()=>s[14].call(O)),a(w,"class","col"),a(bt,"class","form-label"),a(bt,"for","mietpreis"),a($,"class","form-control"),a($,"id","mietpreis"),a($,"type","number"),a(Ct,"class","col"),a(S,"class","row mb-3"),a(ot,"type","button"),a(ot,"class","btn btn-primary"),a(_,"class","mb-5"),a(Tt,"class","mt-3"),a(xt,"class","form-label"),a(xt,"for","mietpreis"),a(tt,"class","form-control"),a(tt,"id","mietpreis"),a(tt,"type","number"),a(Ot,"class","col"),a(yt,"class","form-label"),a(yt,"for","type"),st.__value="All",x(st,st.__value),it.__value="COMPUTER",x(it,it.__value),rt.__value="MOBIL",x(rt,rt.__value),ut.__value="AUDIOVIDEO",x(ut,ut.__value),ct.__value="HAUSHALT",x(ct,ct.__value),vt.__value="KÜCHENGERÄT",x(vt,vt.__value),_t.__value="BÜRO",x(_t,_t.__value),ft.__value="WERKZEUG",x(ft,ft.__value),dt.__value="SMARTHOME",x(dt,dt.__value),a(A,"class","form-select"),a(A,"id","type"),s[4]===void 0&&Se(()=>s[17].call(A)),a(gt,"class","col"),a(Et,"class","row mb-3"),a(pt,"type","button"),a(pt,"class","btn btn-primary"),a(at,"class","mb-5"),a(ht,"class","table align-middle"),a(Dt,"class","pagination")},m(l,d){L(l,e,d),L(l,c,d),L(l,_,d),t(_,y),t(y,u),t(u,h),t(u,N),t(u,I),x(I,s[5].name),t(_,R),t(_,M),t(M,z),t(z,k),t(z,Q),t(z,H),x(H,s[5].description),t(_,Y),t(_,S),t(S,w),t(w,j),t(w,J),t(w,O),t(O,f),t(O,g),t(O,V),t(O,m),t(O,G),t(O,K),t(O,F),t(O,W),ee(O,s[5].deviceType,!0),t(S,ae),t(S,Ct),t(Ct,bt),t(Ct,se),t(Ct,$),x($,s[5].mietpreis),t(_,ie),t(_,ot),L(l,zt,d),L(l,Tt,d),L(l,jt,d),L(l,at,d),t(at,Et),t(Et,Ot),t(Ot,xt),t(Ot,re),t(Ot,tt),x(tt,s[3]),t(Et,ue),t(Et,gt),t(gt,yt),t(gt,ce),t(gt,A),t(A,st),t(A,it),t(A,rt),t(A,ut),t(A,ct),t(A,vt),t(A,_t),t(A,ft),t(A,dt),ee(A,s[4],!0),t(at,ve),t(at,pt),L(l,qt,d),L(l,It,d),L(l,Gt,d),L(l,ht,d),t(ht,Lt),t(ht,_e),t(ht,Mt);for(let v=0;v<U.length;v+=1)U[v]&&U[v].m(Mt,null);L(l,Kt,d),L(l,kt,d),t(kt,Dt);for(let v=0;v<B.length;v+=1)B[v]&&B[v].m(Dt,null);fe||(ke=[nt(I,"input",s[12]),nt(H,"input",s[13]),nt(O,"change",s[14]),nt($,"input",s[15]),nt(ot,"click",s[6]),nt(tt,"input",s[16]),nt(A,"change",s[17]),nt(pt,"click",s[9])],fe=!0)},p(l,[d]){if(d&32&&I.value!==l[5].name&&x(I,l[5].name),d&32&&H.value!==l[5].description&&x(H,l[5].description),d&32&&ee(O,l[5].deviceType),d&32&&oe($.value)!==l[5].mietpreis&&x($,l[5].mietpreis),d&8&&oe(tt.value)!==l[3]&&x(tt,l[3]),d&16&&ee(A,l[4]),d&388){Ut=le(l[2]);let v;for(v=0;v<Ut.length;v+=1){const et=Ge(l,Ut,v);U[v]?U[v].p(et,d):(U[v]=Ke(et),U[v].c(),U[v].m(Mt,null))}for(;v<U.length;v+=1)U[v].d(1);U.length=Ut.length}if(d&3){Bt=le(Array(l[1]));let v;for(v=0;v<Bt.length;v+=1){const et=qe(l,Bt,v);B[v]?B[v].p(et,d):(B[v]=Fe(et),B[v].c(),B[v].m(Dt,null))}for(;v<B.length;v+=1)B[v].d(1);B.length=Bt.length}},i:de,o:de,d(l){l&&(i(e),i(c),i(_),i(zt),i(Tt),i(jt),i(at),i(qt),i(It),i(Gt),i(ht),i(Kt),i(kt)),we(U,l),we(B,l),fe=!1,Ze(ke)}}}let nl=4;function ol(s,e,r){let c,_;Ve(s,Xe,f=>r(10,c=f)),Ve(s,Qe,f=>r(11,_=f));const y=_.url.origin;let u,h=0,q=[],N={name:null,description:null,deviceType:null,mietpreis:null},I,R;function M(){let f="?pageSize="+nl+"&pageNumber="+u;I&&(f+="&min="+I),R&&R!=="All"&&(f+="&type="+R);var P={method:"get",url:y+"/api/device"+f,headers:{Authorization:"Bearer "+c}};ne(P).then(function(g){r(2,q=g.data.content),r(1,h=g.data.totalPages)}).catch(function(g){alert("Could not get devices"),console.log(g)})}function z(){var f={method:"post",url:y+"/api/device",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},data:N};ne(f).then(function(P){alert("Device created"),M()}).catch(function(P){alert("Could not create device"),console.log(P)})}function k(f){var P={method:"put",url:`${y}/api/service/me/assignDevice?deviceId=${f}`,headers:{Authorization:`Bearer ${c}`}};ne(P).then(function(g){M()}).catch(function(g){alert("Could not assign device to me"),console.log(g)})}function Z(f){var P={method:"put",url:`${y}/api/service/me/completeDevice?deviceId=${f}`,headers:{Authorization:`Bearer ${c}`}};ne(P).then(function(g){M()}).catch(function(g){alert("Could not complete device"),console.log(g)})}function Q(){M()}function H(){N.name=this.value,r(5,N)}function Y(){N.description=this.value,r(5,N)}function S(){N.deviceType=je(this),r(5,N)}function w(){N.mietpreis=oe(this.value),r(5,N)}function j(){I=oe(this.value),r(3,I)}function X(){R=je(this),r(4,R)}const J=f=>Z(f.id),O=f=>k(f.id);return s.$$.update=()=>{if(s.$$.dirty&3072&&c!==""){let f=_.url.searchParams;f.has("page")?r(0,u=f.get("page")):r(0,u="1"),M()}},[u,h,q,I,R,N,z,k,Z,Q,c,_,H,Y,S,w,j,X,J,O]}class vl extends Ye{constructor(e){super(),Je(this,e,ol,ll,We,{})}}export{vl as component};
