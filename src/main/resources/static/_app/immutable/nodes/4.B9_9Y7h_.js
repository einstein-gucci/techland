import{s as We,e as He,n as Se,r as Ze,c as Ve}from"../chunks/scheduler.B2kig3xY.js";import{S as Ye,i as Je,e as n,s as T,c as o,l as h,f as E,a as b,d as r,m as s,n as x,g as P,h as t,q as ee,o as X,r as oe,u as we,t as Pt,b as kt,j as Ht,v as je,w as ze}from"../chunks/index.DR8NClmD.js";import{e as le}from"../chunks/each.D6YF6ztN.js";import{j as Qe,a as ne}from"../chunks/store.BdGEaHuh.js";import{p as Xe}from"../chunks/stores.CYLICO2S.js";function qe(a,e,u){const c=a.slice();return c[23]=e[u],c[25]=u,c}function Ge(a,e,u){const c=a.slice();return c[5]=e[u],c}function $e(a){let e,u="Mieten",c,_;function O(){return a[20](a[5])}return{c(){e=n("button"),e.textContent=u,this.h()},l(i){e=o(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),h(e)!=="svelte-zcnp2a"&&(e.textContent=u),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-primary btn-sm")},m(i,f){P(i,e,f),c||(_=X(e,"click",O),c=!0)},p(i,f){a=i},d(i){i&&r(e),c=!1,_()}}}function tl(a){let e,u="Retourniert",c,_;function O(){return a[19](a[5])}return{c(){e=n("button"),e.textContent=u,this.h()},l(i){e=o(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),h(e)!=="svelte-hljhvc"&&(e.textContent=u),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-primary btn-sm")},m(i,f){P(i,e,f),c||(_=X(e,"click",O),c=!0)},p(i,f){a=i},d(i){i&&r(e),c=!1,_()}}}function el(a){let e,u="Retournieren",c,_;function O(){return a[18](a[5])}return{c(){e=n("button"),e.textContent=u,this.h()},l(i){e=o(i,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),h(e)!=="svelte-1vnlbt9"&&(e.textContent=u),this.h()},h(){s(e,"type","button"),s(e,"class","btn btn-primary btn-sm")},m(i,f){P(i,e,f),c||(_=X(e,"click",O),c=!0)},p(i,f){a=i},d(i){i&&r(e),c=!1,_()}}}function Ke(a){let e,u,c=a[5].name+"",_,O,i,f=a[5].description+"",G,N,I,U=a[5].deviceType+"",k,z,L,K=a[5].mietpreis+"",$,B,J,H=a[5].deviceState+"",w,q,tt,Q=a[5].vermieterId+"",y,j,p,g;function S(m,C){if(m[5].deviceState==="Vermietet")return el;if(m[5].deviceState==="Retourniert")return tl;if(m[5].deviceState==="Verfügbar")return $e}let V=S(a),D=V&&V(a);return{c(){e=n("tr"),u=n("td"),_=Pt(c),O=T(),i=n("td"),G=Pt(f),N=T(),I=n("td"),k=Pt(U),z=T(),L=n("td"),$=Pt(K),B=T(),J=n("td"),w=Pt(H),q=T(),tt=n("td"),y=Pt(Q),j=T(),p=n("td"),D&&D.c(),g=T()},l(m){e=o(m,"TR",{});var C=b(e);u=o(C,"TD",{});var F=b(u);_=kt(F,c),F.forEach(r),O=E(C),i=o(C,"TD",{});var St=b(i);G=kt(St,f),St.forEach(r),N=E(C),I=o(C,"TD",{});var W=b(I);k=kt(W,U),W.forEach(r),z=E(C),L=o(C,"TD",{});var Vt=b(L);$=kt(Vt,K),Vt.forEach(r),B=E(C),J=o(C,"TD",{});var Z=b(J);w=kt(Z,H),Z.forEach(r),q=E(C),tt=o(C,"TD",{});var wt=b(tt);y=kt(wt,Q),wt.forEach(r),j=E(C),p=o(C,"TD",{});var Y=b(p);D&&D.l(Y),Y.forEach(r),g=E(C),C.forEach(r)},m(m,C){P(m,e,C),t(e,u),t(u,_),t(e,O),t(e,i),t(i,G),t(e,N),t(e,I),t(I,k),t(e,z),t(e,L),t(L,$),t(e,B),t(e,J),t(J,w),t(e,q),t(e,tt),t(tt,y),t(e,j),t(e,p),D&&D.m(p,null),t(e,g)},p(m,C){C&4&&c!==(c=m[5].name+"")&&Ht(_,c),C&4&&f!==(f=m[5].description+"")&&Ht(G,f),C&4&&U!==(U=m[5].deviceType+"")&&Ht(k,U),C&4&&K!==(K=m[5].mietpreis+"")&&Ht($,K),C&4&&H!==(H=m[5].deviceState+"")&&Ht(w,H),C&4&&Q!==(Q=m[5].vermieterId+"")&&Ht(y,Q),V===(V=S(m))&&D?D.p(m,C):(D&&D.d(1),D=V&&V(m),D&&(D.c(),D.m(p,null)))},d(m){m&&r(e),D&&D.d()}}}function Fe(a){let e,u,c=a[25]+1+"",_,O;return{c(){e=n("li"),u=n("a"),_=Pt(c),O=T(),this.h()},l(i){e=o(i,"LI",{class:!0});var f=b(e);u=o(f,"A",{class:!0,href:!0});var G=b(u);_=kt(G,c),G.forEach(r),O=E(f),f.forEach(r),this.h()},h(){s(u,"class","page-link"),s(u,"href","/devices?page="+(a[25]+1)),je(u,"active",a[0]==a[25]+1),s(e,"class","page-item")},m(i,f){P(i,e,f),t(e,u),t(u,_),t(e,O)},p(i,f){f&1&&je(u,"active",i[0]==i[25]+1)},d(i){i&&r(e)}}}function ll(a){let e,u="Create Device",c,_,O,i,f,G="Name",N,I,U,k,z,L,K="Description",$,B,J,H,w,q,tt="Type",Q,y,j,p="COMPUTER",g,S="MOBIL",V,D="AUDIOVIDEO",m,C="HAUSHALT",F,St="KÜCHENGERÄT",W,Vt="BÜRO",Z,wt="WERKZEUG",Y,de="SMARTHOME",ae,bt,Tt,pe="Mietpreis",se,et,ie,at,he="Submit",jt,Et,me="Filter Devices",zt,st,Ot,yt,xt,Ce="Min Mietpreis",re,lt,ue,It,gt,be="Device Type",ce,A,it,Te="All",rt,Ee="COMPUTER",ut,Oe="MOBIL",ct,ye="AUDIOVIDEO",vt,xe="HAUSHALT",_t,Ie="KÜCHENGERÄT",ft,ge="BÜRO",dt,De="WERKZEUG",pt,Ae="SMARTHOME",ve,ht,Ne="Apply Filter",qt,Dt,Pe="All Devices",Gt,mt,Lt,ke='<tr><th scope="col">Name</th> <th scope="col">Description</th> <th scope="col">Type</th> <th scope="col">Mietpreis</th> <th scope="col">State</th> <th scope="col">VermieterId</th> <th scope="col">Actions</th></tr>',_e,Mt,Kt,Rt,At,fe,Le,Ut=le(a[2]),M=[];for(let l=0;l<Ut.length;l+=1)M[l]=Ke(Ge(a,Ut,l));let Bt=le(Array(a[1])),R=[];for(let l=0;l<Bt.length;l+=1)R[l]=Fe(qe(a,Bt,l));return{c(){e=n("h1"),e.textContent=u,c=T(),_=n("form"),O=n("div"),i=n("div"),f=n("label"),f.textContent=G,N=T(),I=n("input"),U=T(),k=n("div"),z=n("div"),L=n("label"),L.textContent=K,$=T(),B=n("input"),J=T(),H=n("div"),w=n("div"),q=n("label"),q.textContent=tt,Q=T(),y=n("select"),j=n("option"),j.textContent=p,g=n("option"),g.textContent=S,V=n("option"),V.textContent=D,m=n("option"),m.textContent=C,F=n("option"),F.textContent=St,W=n("option"),W.textContent=Vt,Z=n("option"),Z.textContent=wt,Y=n("option"),Y.textContent=de,ae=T(),bt=n("div"),Tt=n("label"),Tt.textContent=pe,se=T(),et=n("input"),ie=T(),at=n("button"),at.textContent=he,jt=T(),Et=n("h1"),Et.textContent=me,zt=T(),st=n("form"),Ot=n("div"),yt=n("div"),xt=n("label"),xt.textContent=Ce,re=T(),lt=n("input"),ue=T(),It=n("div"),gt=n("label"),gt.textContent=be,ce=T(),A=n("select"),it=n("option"),it.textContent=Te,rt=n("option"),rt.textContent=Ee,ut=n("option"),ut.textContent=Oe,ct=n("option"),ct.textContent=ye,vt=n("option"),vt.textContent=xe,_t=n("option"),_t.textContent=Ie,ft=n("option"),ft.textContent=ge,dt=n("option"),dt.textContent=De,pt=n("option"),pt.textContent=Ae,ve=T(),ht=n("button"),ht.textContent=Ne,qt=T(),Dt=n("h1"),Dt.textContent=Pe,Gt=T(),mt=n("table"),Lt=n("thead"),Lt.innerHTML=ke,_e=T(),Mt=n("tbody");for(let l=0;l<M.length;l+=1)M[l].c();Kt=T(),Rt=n("nav"),At=n("ul");for(let l=0;l<R.length;l+=1)R[l].c();this.h()},l(l){e=o(l,"H1",{class:!0,"data-svelte-h":!0}),h(e)!=="svelte-y69oy2"&&(e.textContent=u),c=E(l),_=o(l,"FORM",{class:!0});var d=b(_);O=o(d,"DIV",{class:!0});var v=b(O);i=o(v,"DIV",{class:!0});var nt=b(i);f=o(nt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(f)!=="svelte-15kbfjq"&&(f.textContent=G),N=E(nt),I=o(nt,"INPUT",{class:!0,id:!0,type:!0}),nt.forEach(r),v.forEach(r),U=E(d),k=o(d,"DIV",{class:!0});var Me=b(k);z=o(Me,"DIV",{class:!0});var Ft=b(z);L=o(Ft,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(L)!=="svelte-17hm1qu"&&(L.textContent=K),$=E(Ft),B=o(Ft,"INPUT",{class:!0,id:!0,type:!0}),Ft.forEach(r),Me.forEach(r),J=E(d),H=o(d,"DIV",{class:!0});var Wt=b(H);w=o(Wt,"DIV",{class:!0});var Zt=b(w);q=o(Zt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(q)!=="svelte-1dxyp2i"&&(q.textContent=tt),Q=E(Zt),y=o(Zt,"SELECT",{class:!0,id:!0});var Ct=b(y);j=o(Ct,"OPTION",{"data-svelte-h":!0}),h(j)!=="svelte-t51rny"&&(j.textContent=p),g=o(Ct,"OPTION",{"data-svelte-h":!0}),h(g)!=="svelte-1b0ue8o"&&(g.textContent=S),V=o(Ct,"OPTION",{"data-svelte-h":!0}),h(V)!=="svelte-pxvlee"&&(V.textContent=D),m=o(Ct,"OPTION",{"data-svelte-h":!0}),h(m)!=="svelte-1tft5vy"&&(m.textContent=C),F=o(Ct,"OPTION",{"data-svelte-h":!0}),h(F)!=="svelte-xv2j6c"&&(F.textContent=St),W=o(Ct,"OPTION",{"data-svelte-h":!0}),h(W)!=="svelte-3e5oi2"&&(W.textContent=Vt),Z=o(Ct,"OPTION",{"data-svelte-h":!0}),h(Z)!=="svelte-14raz66"&&(Z.textContent=wt),Y=o(Ct,"OPTION",{"data-svelte-h":!0}),h(Y)!=="svelte-h955fy"&&(Y.textContent=de),Ct.forEach(r),Zt.forEach(r),ae=E(Wt),bt=o(Wt,"DIV",{class:!0});var Yt=b(bt);Tt=o(Yt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(Tt)!=="svelte-1s3g1s2"&&(Tt.textContent=pe),se=E(Yt),et=o(Yt,"INPUT",{class:!0,id:!0,type:!0}),Yt.forEach(r),Wt.forEach(r),ie=E(d),at=o(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),h(at)!=="svelte-v3vov"&&(at.textContent=he),d.forEach(r),jt=E(l),Et=o(l,"H1",{class:!0,"data-svelte-h":!0}),h(Et)!=="svelte-12pmb11"&&(Et.textContent=me),zt=E(l),st=o(l,"FORM",{class:!0});var Jt=b(st);Ot=o(Jt,"DIV",{class:!0});var Qt=b(Ot);yt=o(Qt,"DIV",{class:!0});var Xt=b(yt);xt=o(Xt,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(xt)!=="svelte-1iik6gq"&&(xt.textContent=Ce),re=E(Xt),lt=o(Xt,"INPUT",{class:!0,id:!0,type:!0}),Xt.forEach(r),ue=E(Qt),It=o(Qt,"DIV",{class:!0});var $t=b(It);gt=o($t,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),h(gt)!=="svelte-163d0kw"&&(gt.textContent=be),ce=E($t),A=o($t,"SELECT",{class:!0,id:!0});var ot=b(A);it=o(ot,"OPTION",{"data-svelte-h":!0}),h(it)!=="svelte-ewmsv0"&&(it.textContent=Te),rt=o(ot,"OPTION",{"data-svelte-h":!0}),h(rt)!=="svelte-t51rny"&&(rt.textContent=Ee),ut=o(ot,"OPTION",{"data-svelte-h":!0}),h(ut)!=="svelte-1b0ue8o"&&(ut.textContent=Oe),ct=o(ot,"OPTION",{"data-svelte-h":!0}),h(ct)!=="svelte-pxvlee"&&(ct.textContent=ye),vt=o(ot,"OPTION",{"data-svelte-h":!0}),h(vt)!=="svelte-1tft5vy"&&(vt.textContent=xe),_t=o(ot,"OPTION",{"data-svelte-h":!0}),h(_t)!=="svelte-xv2j6c"&&(_t.textContent=Ie),ft=o(ot,"OPTION",{"data-svelte-h":!0}),h(ft)!=="svelte-3e5oi2"&&(ft.textContent=ge),dt=o(ot,"OPTION",{"data-svelte-h":!0}),h(dt)!=="svelte-14raz66"&&(dt.textContent=De),pt=o(ot,"OPTION",{"data-svelte-h":!0}),h(pt)!=="svelte-h955fy"&&(pt.textContent=Ae),ot.forEach(r),$t.forEach(r),Qt.forEach(r),ve=E(Jt),ht=o(Jt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),h(ht)!=="svelte-1shm5w3"&&(ht.textContent=Ne),Jt.forEach(r),qt=E(l),Dt=o(l,"H1",{"data-svelte-h":!0}),h(Dt)!=="svelte-1rvac7q"&&(Dt.textContent=Pe),Gt=E(l),mt=o(l,"TABLE",{class:!0});var te=b(mt);Lt=o(te,"THEAD",{"data-svelte-h":!0}),h(Lt)!=="svelte-7qfsoa"&&(Lt.innerHTML=ke),_e=E(te),Mt=o(te,"TBODY",{});var Re=b(Mt);for(let Nt=0;Nt<M.length;Nt+=1)M[Nt].l(Re);Re.forEach(r),te.forEach(r),Kt=E(l),Rt=o(l,"NAV",{});var Ue=b(Rt);At=o(Ue,"UL",{class:!0});var Be=b(At);for(let Nt=0;Nt<R.length;Nt+=1)R[Nt].l(Be);Be.forEach(r),Ue.forEach(r),this.h()},h(){s(e,"class","mt-3"),s(f,"class","form-label"),s(f,"for","name"),s(I,"class","form-control"),s(I,"id","name"),s(I,"type","text"),s(i,"class","col"),s(O,"class","row mb-3"),s(L,"class","form-label"),s(L,"for","description"),s(B,"class","form-control"),s(B,"id","description"),s(B,"type","text"),s(z,"class","col"),s(k,"class","row mb-3"),s(q,"class","form-label"),s(q,"for","type"),j.__value="COMPUTER",x(j,j.__value),g.__value="MOBIL",x(g,g.__value),V.__value="AUDIOVIDEO",x(V,V.__value),m.__value="HAUSHALT",x(m,m.__value),F.__value="KÜCHENGERÄT",x(F,F.__value),W.__value="BÜRO",x(W,W.__value),Z.__value="WERKZEUG",x(Z,Z.__value),Y.__value="SMARTHOME",x(Y,Y.__value),s(y,"class","form-select"),s(y,"id","type"),a[5].deviceType===void 0&&He(()=>a[14].call(y)),s(w,"class","col"),s(Tt,"class","form-label"),s(Tt,"for","mietpreis"),s(et,"class","form-control"),s(et,"id","mietpreis"),s(et,"type","number"),s(bt,"class","col"),s(H,"class","row mb-3"),s(at,"type","button"),s(at,"class","btn btn-primary"),s(_,"class","mb-5"),s(Et,"class","mt-3"),s(xt,"class","form-label"),s(xt,"for","mietpreis"),s(lt,"class","form-control"),s(lt,"id","mietpreis"),s(lt,"type","number"),s(yt,"class","col"),s(gt,"class","form-label"),s(gt,"for","type"),it.__value="All",x(it,it.__value),rt.__value="COMPUTER",x(rt,rt.__value),ut.__value="MOBIL",x(ut,ut.__value),ct.__value="AUDIOVIDEO",x(ct,ct.__value),vt.__value="HAUSHALT",x(vt,vt.__value),_t.__value="KÜCHENGERÄT",x(_t,_t.__value),ft.__value="BÜRO",x(ft,ft.__value),dt.__value="WERKZEUG",x(dt,dt.__value),pt.__value="SMARTHOME",x(pt,pt.__value),s(A,"class","form-select"),s(A,"id","type"),a[4]===void 0&&He(()=>a[17].call(A)),s(It,"class","col"),s(Ot,"class","row mb-3"),s(ht,"type","button"),s(ht,"class","btn btn-primary"),s(st,"class","mb-5"),s(mt,"class","table align-middle"),s(At,"class","pagination")},m(l,d){P(l,e,d),P(l,c,d),P(l,_,d),t(_,O),t(O,i),t(i,f),t(i,N),t(i,I),x(I,a[5].name),t(_,U),t(_,k),t(k,z),t(z,L),t(z,$),t(z,B),x(B,a[5].description),t(_,J),t(_,H),t(H,w),t(w,q),t(w,Q),t(w,y),t(y,j),t(y,g),t(y,V),t(y,m),t(y,F),t(y,W),t(y,Z),t(y,Y),ee(y,a[5].deviceType,!0),t(H,ae),t(H,bt),t(bt,Tt),t(bt,se),t(bt,et),x(et,a[5].mietpreis),t(_,ie),t(_,at),P(l,jt,d),P(l,Et,d),P(l,zt,d),P(l,st,d),t(st,Ot),t(Ot,yt),t(yt,xt),t(yt,re),t(yt,lt),x(lt,a[3]),t(Ot,ue),t(Ot,It),t(It,gt),t(It,ce),t(It,A),t(A,it),t(A,rt),t(A,ut),t(A,ct),t(A,vt),t(A,_t),t(A,ft),t(A,dt),t(A,pt),ee(A,a[4],!0),t(st,ve),t(st,ht),P(l,qt,d),P(l,Dt,d),P(l,Gt,d),P(l,mt,d),t(mt,Lt),t(mt,_e),t(mt,Mt);for(let v=0;v<M.length;v+=1)M[v]&&M[v].m(Mt,null);P(l,Kt,d),P(l,Rt,d),t(Rt,At);for(let v=0;v<R.length;v+=1)R[v]&&R[v].m(At,null);fe||(Le=[X(I,"input",a[12]),X(B,"input",a[13]),X(y,"change",a[14]),X(et,"input",a[15]),X(at,"click",a[6]),X(lt,"input",a[16]),X(A,"change",a[17]),X(ht,"click",a[9])],fe=!0)},p(l,[d]){if(d&32&&I.value!==l[5].name&&x(I,l[5].name),d&32&&B.value!==l[5].description&&x(B,l[5].description),d&32&&ee(y,l[5].deviceType),d&32&&oe(et.value)!==l[5].mietpreis&&x(et,l[5].mietpreis),d&8&&oe(lt.value)!==l[3]&&x(lt,l[3]),d&16&&ee(A,l[4]),d&388){Ut=le(l[2]);let v;for(v=0;v<Ut.length;v+=1){const nt=Ge(l,Ut,v);M[v]?M[v].p(nt,d):(M[v]=Ke(nt),M[v].c(),M[v].m(Mt,null))}for(;v<M.length;v+=1)M[v].d(1);M.length=Ut.length}if(d&3){Bt=le(Array(l[1]));let v;for(v=0;v<Bt.length;v+=1){const nt=qe(l,Bt,v);R[v]?R[v].p(nt,d):(R[v]=Fe(nt),R[v].c(),R[v].m(At,null))}for(;v<R.length;v+=1)R[v].d(1);R.length=Bt.length}},i:Se,o:Se,d(l){l&&(r(e),r(c),r(_),r(jt),r(Et),r(zt),r(st),r(qt),r(Dt),r(Gt),r(mt),r(Kt),r(Rt)),we(M,l),we(R,l),fe=!1,Ze(Le)}}}let nl=4;function ol(a,e,u){let c,_;Ve(a,Qe,p=>u(10,c=p)),Ve(a,Xe,p=>u(11,_=p));const O=_.url.origin;let i,f=0,G=[],N={name:null,description:null,deviceType:null,mietpreis:null},I,U;function k(){let p="?pageSize="+nl+"&pageNumber="+i;I&&(p+="&min="+I),U&&U!=="All"&&(p+="&type="+U);var g={method:"get",url:O+"/api/device"+p,headers:{Authorization:"Bearer "+c}};ne(g).then(function(S){u(2,G=S.data.content),u(1,f=S.data.totalPages)}).catch(function(S){alert("Could not get devices"),console.log(S)})}function z(){var p={method:"post",url:O+"/api/device",headers:{"Content-Type":"application/json",Authorization:"Bearer "+c},data:N};ne(p).then(function(g){alert("Device created"),k()}).catch(function(g){alert("Could not create device"),console.log(g)})}function L(p){var g={method:"put",url:`${O}/api/service/me/assignDevice?deviceId=${p}`,headers:{Authorization:`Bearer ${c}`}};ne(g).then(function(S){k()}).catch(function(S){alert("Could not assign device to me"),console.log(S)})}function K(p){var g={method:"put",url:`${O}/api/service/me/completeDevice?deviceId=${p}`,headers:{Authorization:`Bearer ${c}`}};ne(g).then(function(S){k()}).catch(function(S){alert("Could not complete device"),console.log(S)})}function $(){k()}function B(){N.name=this.value,u(5,N)}function J(){N.description=this.value,u(5,N)}function H(){N.deviceType=ze(this),u(5,N)}function w(){N.mietpreis=oe(this.value),u(5,N)}function q(){I=oe(this.value),u(3,I)}function tt(){U=ze(this),u(4,U)}const Q=p=>K(p.id),y=p=>K(p.id),j=p=>L(p.id);return a.$$.update=()=>{if(a.$$.dirty&3072&&c!==""){let p=_.url.searchParams;p.has("page")?u(0,i=p.get("page")):u(0,i="1"),k()}},[i,f,G,I,U,N,z,L,K,$,c,_,B,J,H,w,q,tt,Q,y,j]}class cl extends Ye{constructor(e){super(),Je(this,e,ol,ll,We,{})}}export{cl as component};
